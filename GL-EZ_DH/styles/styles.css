/* Rank suffix variant styling - allow per-context tuning */
/* Player comparison modal: small sup offset */
#player-comparison-modal .stat-rank-variant-compare sup.stat-rank-suffix-compare,
#player-comparison-modal .comparison-rank-annotation sup {
  top: 0em !important;
  font-size: 0.5rem !important;
}
/* Game logs modal: footer rank suffixes */
#game-logs-modal .stat-rank-variant-gamelogs-footer sup.stat-rank-suffix-gamelogs-footer,
#game-logs-modal tfoot td.has-rank-annotation span.stat-rank-annotation sup {
  top: 0em !important;
  font-size: 0.5rem !important;
}
/* Game logs modal: opponent rank suffixes (first column) */
#game-logs-modal .stat-rank-variant-gamelogs-opponent sup.stat-rank-suffix-gamelogs-opponent,
#game-logs-modal tbody td:first-child span.stat-rank-annotation sup {
  top: 0em !important;
  font-size: 0.5rem !important;
  display: inline-block !important;
  vertical-align: baseline !important; /* ensure suffix aligns with text baseline on mobile */
  line-height: 1 !important;
  transform: none !important;
}
/* KTC rank in player cards */
/* KTC rank in player cards */
.stat-rank-variant-ktc {
  display: inline-flex;
  align-items: center; /* keep suffix vertically aligned with number */
  gap: 0; /* parentheses should hug the rank */
}
.player-ktc-wrapper.has-rank-annotation .stat-rank-annotation {
  margin-left: 0; /* no space between the KTC value and rank */
}
.player-ktc-wrapper .value,
.player-ppg-wrapper .value {
  margin-left: 0.03rem; /* subtle spacing between label and value */
}
.stat-rank-variant-ktc .stat-rank-number {
  margin: 0; /* keep number tight to suffix */
  padding: 0;
}
.stat-rank-variant-ktc .stat-rank-suffix-ktc {
  font-size: 0.9em !important; /* slightly smaller inline suffix */
  line-height: 1;
  margin-left: 0; /* no gap between number and suffix */
  padding-left: 0;
}
/* ⬇︎ VARIABLES, THEME, & FOUNDATION ⬇︎ */
      :root {
        --font-sans: 'Product Sans', 'Google Sans', 'Quicksand', sans-serif;
        /* · · New Color Palette · · */
        --color-bg: #0D0E1B;
        --color-bg-light: #1E1F30;
        --color-panel-bg: rgba(22, 24, 43, 0.1);
        --roster-card-blur: 1px;
        --color-panel-border: rgba(128, 138, 189, 0.2);
        --color-panel-border-glow: rgba(128, 138, 189, 0.4);
        --color-text-primary: #EAEBF0;
        --color-text-secondary: #9096C0;
        --color-text-tertiary: #5F6795;
        --color-text-mid-test1: #BDC1D8; /* inbetween primary & secondary */
        --color-text-mid-test2:  #787FAB; /* midpoint between secondary and tertiary */
        --color-accent-primary: #766DFF;
        --color-accent-primary-glow: rgba(118, 109, 255, 0.5);
        --color-accent-secondary: #42C2FF;
        --color-accent-secondary-glow: rgba(66, 194, 255, 0.5);
        --color-accent-trade-win: #00F5A0;
        --color-accent-trade-lose: #FF47A6;
        /* · · Position Colors · · */
        --pos-qb: #FF3A75ca;
        --pos-rb: #00EBC7ca;
        --pos-wr: #58A7FFca;
        --pos-te: #B469FFca;
        --pos-flx: #ba6597ee;
        --pos-sflx: #FF3A75ca;
        --pos-bn: #64748b;
        --pos-tx: #808ea3;
        /* · · Other vars · · */
        --panel-border-radius: 12px;
        --card-border-radius: 8px;
        --glow-strength: 0.6; /* FIXED: give it a value so parsing continues */
        /* · · Orb 3 (shared) — using lengths so gradient center = orb center · · */
        --orb3-left: 330px;
        --orb3-top: 23rem;
        --orb3-size: 19rem;
      }
      html, body {
        height: 100%;
        margin: 0;
      }
      :root {
        --roster-header-height: 0px;
        --roster-header-gap: 12px; /* Adjust this value to change the vertical gap beneath the global header on roster pages */
      }
      body {
        font-family: var(--font-sans);
        background-color: #0b0b12;
        color: var(--color-text-primary);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: auto;
        position: relative;
      }
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
        button:focus,
        input:focus,
        select:focus,
        textarea:focus,
        a:focus {
          outline: 1px solid rgba(255, 255, 255, 0.0); /* faint light ring */
          outline-offset: 2px;                         /* optional spacing */
        }
      .content-wrapper {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      main#content {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
      }
/* ⬇︎ BACKGROUND ORBS AND NOISE OVERLAY ⬇︎ */
      #background-container {
        position: fixed; /* EDITED: Changed from absolute to fixed */
        inset: 0;
        z-index: -10;
        pointer-events: none;
        overflow: hidden;
      }
      #background-gradient {
        position: absolute;
        inset: 0;
        background-image:
          radial-gradient(1200px 800px at -10% -20%, #7300FF59, transparent),
          radial-gradient(700px 600px at 110% 10%, #00EBFF40, transparent),
          /* Orb-3’s gradient center is computed from the orb’s box center */
          radial-gradient(
            300px 300px
            at calc(var(--orb3-left) + (var(--orb3-size) / 2))
               calc(var(--orb3-top)  + (var(--orb3-size) / 2)),
            #FFAF0020, transparent
          );
      }
      .orb {
        position: absolute;
        border-radius: 9999px;
        filter: blur(38px);
      }
      #orb-1 {
        left: -6rem; top: 2.5rem; height: 18rem; width: 18rem;
        background: linear-gradient(135deg, rgba(115,0,255,0.6), rgba(0,235,255,0.4));
        opacity: 0.35;
      }
      #orb-2 {
        right: -60px; top: 6rem; height: 16rem; width: 16rem;
        background: linear-gradient(135deg, rgba(0,235,255,0.5), rgba(255,175,0,0.4));
        opacity: 0.30;
      }
      #orb-3 {
        /* match the same vars used in the gradient center above */
        left: var(--orb3-left);
        top:  var(--orb3-top);
        height: var(--orb3-size);
        width:  var(--orb3-size);  /* No translate here; center handled via calc() in the gradient */
        background: linear-gradient(135deg, #FFAF008C, #7300FF80);
        opacity: 0.48;
        border-radius: 9999px;
        filter: blur(38px);
        position: absolute;
      }
      #noise-overlay {
        position: fixed; /* EDITED: Changed from absolute to fixed */
        inset: 0;
        z-index: -9;
        pointer-events: none;
        opacity: 0.35;
        mix-blend-mode: overlay;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 400'%3e%3cfilter id='n'%3e%3cfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='2' stitchTiles='stitch'/%3e%3cfeColorMatrix type='saturate' values='0'/%3e%3cfeComponentTransfer%3e%3cfeFuncA type='table' tableValues='0 0 0 0 0.08'/%3e%3c/feComponentTransfer%3e%3c/filter%3e%3crect width='100%25' height='100%25' filter='url(%23n)'/%3e%3c/svg%3e");
      }
/* ⬇︎ SCROLLBARS ⬇︎ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--color-text-tertiary);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-text-secondary);
        }
/* ⬇︎ GENERAL UI ⬇︎ */
        #loading, #welcome-screen {
            text-align: center;
            padding: 4rem 2rem;
            font-size: 1.2rem;
            color: var(--color-text-secondary);
            max-width: 600px;
            margin: 0.51rem auto;
        }
        #welcome-screen, #loading {
            background: rgb(47 29 104 / 10%);
            border: 1px solid var(--color-panel-border);
            border-radius: var(--panel-border-radius);
            backdrop-filter: blur(3px);
            -webkit-backdrop-filter: blur(3px);
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }
        #welcome-screen h2 {
            font-size: 1.7rem;
            font-weight: 300;
            color: var(--color-text-primary);
            text-shadow: 0 0 9px #5300ff;
            margin-bottom: 0.5rem;
        }
.custom-tooltip {
  position: absolute;
  padding: 0.4rem 0.8rem;
  border-radius: 10px;
  background: linear-gradient(155deg, rgba(118, 109, 255, 0.32), rgba(66, 194, 255, 0.18));
  color: var(--color-text-primary);
  border: 1px solid rgba(118, 109, 255, 0.45);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.16);
  font-size: 0.72rem;
  line-height: 1.25;
  letter-spacing: 0.01em;
  backdrop-filter: blur(12px) saturate(130%);
  -webkit-backdrop-filter: blur(12px) saturate(130%);
  pointer-events: none;
  z-index: 1400;
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity 0.22s ease, transform 0.22s ease;
  white-space: nowrap;
}
.custom-tooltip::after {
  content: '';
  position: absolute;
  left: 50%;
  bottom: -6px;
  transform: translateX(-50%);
  width: 10px;
  height: 10px;
  background: inherit;
  border: inherit;
  border-top: none;
  border-left: none;
  border-radius: 2px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
  transform-origin: center;
  transform: translateX(-50%) rotate(45deg);
}
.custom-tooltip.is-visible {
  opacity: 1;
  transform: translateY(0);
}
.custom-tooltip.is-hiding {
  opacity: 0;
  transform: translateY(-6px);
}
        #header-container {
            position: sticky;
            top: 0;
            z-index: 10;
            padding: 0.1rem 0rem 0.4rem 0rem;
            border-radius: var(--panel-border-radius);  /* EDITED: Changed background to be more transparent to see bg */
            background: linear-gradient(180deg, rgba(11, 11, 18, 0.2) 10%, transparent 100%);
        }
        body[data-page="rosters"] #header-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            width: 100vw;
            max-width: none;
            will-change: auto;
        }
        body[data-page="rosters"] #header-container .app-header {
            width: 100%;
            max-width: none;
        }
        body[data-page="rosters"] main#content {
            padding-top: max(calc(var(--roster-header-height, 0px) - var(--roster-header-gap, 0px)), 0px);
        }
/* ⬇︎ UTILITY CLASSES ⬇︎ */
        .glass-panel {
       background-color: rgba(13, 14, 35, 0.21);
       background-image: linear-gradient(rgba(255,255,255, 0.03), rgba(255,255,255, 0.03));
        -webkit-backdrop-filter: blur(6px) saturate(120%) brightness(120%);
        backdrop-filter: blur(6px) saturate(120%) brightness(120%);
        box-shadow: inset 0 0 0 0px rgba(255,255,255, 0.05), inset 0 0 0 3px rgba(200,200,200, 0.025), 0 10px 26px rgba(0,0,0, var(--outerA, .22));
        /* · · Frame · · */
        border: 1px solid rgba(128, 138, 189, 0.2);
        border-radius: 10px;
        box-shadow: rgba(255, 255, 255, 0.05) 0px 0px 0px 0px inset, rgba(200, 200, 200, 0.025) 0px 0px 0px 3px inset, rgba(0, 0, 0, 0.22) 0px 10px 26px 0px;
        }
/* ⬇︎ NEW REDESIGNED HEADER LAYOUT ⬇︎ */
/* === ROW 1: Logo + Navigation Buttons === */
#primary-header-row {
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    padding: 0.25rem;
    grid-template-columns: none !important;
}
.app-logo {
    width: 2.2rem;
    height: 2.2rem;
    object-fit: contain;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}
.nav-logo {
  width: 1.15rem; /* match icon size */
  height: 1.1rem;
  object-fit: contain;
  display: block;
  filter: opacity(0.8) drop-shadow(0 1px 1px rgba(0,0,0,0.12));
}
/* Reduce vertical spacing specifically for the Home button logo so it matches other nav buttons */
#homeButton .nav-logo {
  display: inline-block;
  vertical-align: middle;
  margin-top: 0;
  margin-bottom: -1px;
}
#homeButton {
  padding-top: 0.15rem;
  padding-bottom: 0.25rem;
}
.nav-buttons-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
    justify-content: space-around;
}
.nav-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.1rem;
    padding: 0.4rem 0.6rem;
    min-height: 2.25rem;
    background: rgba(13, 14, 35, 0.25);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(128, 138, 189, 0.2);
    border-radius: 8px;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
    flex: 1;
    max-width: 4.5rem;
}
.nav-button i {
    font-size: 1.1rem;
    line-height: 1;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}
.nav-label {
    font-size: 0.45rem;
    font-weight: 500;
    line-height: 1;
    margin-top: 0.05rem;
    color: inherit;
    white-space: nowrap;
}
.nav-button:hover {
    color: var(--color-text-primary);
    background: rgba(13, 14, 35, 0.35);
    border-color: rgba(128, 138, 189, 0.35);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
}
.nav-button.active {
    color: var(--color-accent-primary);
    background: rgba(118, 109, 255, 0.1);
    border-color: rgba(118, 109, 255, 0.3);
    box-shadow: 0 4px 12px rgba(118, 109, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
}
/* === ROW 2: Username, League Select, Compact Toggle === */
#secondary-header-row {
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    padding: 0.3rem !important;
    border-top: 1px solid var(--color-panel-border);
    grid-template-columns: none !important;
}
#secondary-header-row .username-area {
    width: auto;
    flex: 1 1 0;
}
#secondary-header-row .custom-select-wrapper {
    width: auto;
    flex: 1 1 0;
}
.compact-switcher {
    display: flex;
    align-items: center;
    background: rgba(13, 14, 35, 0.25);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(128, 138, 189, 0.2);
    border-radius: 6px;
    padding: 0.1rem;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
}
.compact-switcher button {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.05rem;
    padding: 0.25rem 0.4rem !important;
    min-height: 1.8rem;
    border: none;
    background: transparent;
    color: var(--color-text-secondary);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.15s ease;
    font-size: 0.7rem !important;
}
.compact-switcher button i {
    font-size: 0.85rem;
    line-height: 1;
}
.switcher-label {
    font-size: 0.4rem;
    font-weight: 400;
    line-height: 1;
    white-space: nowrap;
    color: inherit;
}
.compact-switcher button:hover {
    color: var(--color-text-primary);
    background: rgba(255, 255, 255, 0.05);
}
.compact-switcher button.active {
    min-width: 39px;
    color: var(--color-accent-secondary);
    background: rgba(66, 194, 255, 0.08);
    border: 1px solid;
    box-shadow: 0 1px 3px rgba(66, 194, 255, 0.2);
}
/* === ROW 3: Start/Sit Button === */
.start-sit-button-slot {
    width: auto;
    height: var(--header-control-height);
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1 1 0;
    margin: 0px 3px;
}
.start-sit-button-container {
    height: var(--header-control-height);
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1 1 0 !important;
    min-width: fit-content;
}
.start-sit-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.1rem;
    padding: 0.22rem 0.535rem !important;
    flex: 1 1 0 !important;   /* take remaining row width */
    width: 100%;   /* fill its flex cell */
    min-width: 3.5rem;  /* avoid min-content clamp */
    background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1))!important;
    border: 1px solid rgba(128, 138, 189, 0.2) !important;
    border-radius: 8px;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15),inset 0 1px 2px rgba(255, 255, 255, 0.06) !important;
}
.start-sit-button.active {
    color: var(--color-accent-primary);
    background: rgba(118, 109, 255, 0.1) !important;
    border-color: rgba(118, 109, 255, 0.3) !important;
    box-shadow: 0 4px 12px rgba(118, 109, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
}
.start-sit-button .analyzer-icon {
    font-size: 1rem;
    line-height: 1;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}
.start-sit-button .analyzer-label {
    font-size: 0.45rem;
    font-weight: 500;
    line-height: 1;
    margin-top: 0.05rem;
    color: inherit;
}
.start-sit-button:hover {
    color: var(--color-text-secondary);
    background: rgba(13, 14, 35, 0.35);
    border-color: rgba(128, 138, 189, 0.35);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1);
}
.start-sit-button:focus-visible {
    outline: 2px solid rgba(118, 109, 255, 0.6);
    outline-offset: 2px;
}
/* === Mobile Responsive Adjustments === */
@media (max-width: 520px) {
    .nav-button {
        padding: 0.25rem 0.3rem;
        min-height: 1.9rem;
        max-width: 4rem;
        gap: 0.05rem;
    }
    .nav-button i {
        font-size: 0.95rem;
    }
    .nav-label {
        font-size: 0.55rem;
    }
    .app-logo {
        width: 1.8rem;
        height: 1.8rem;
    }
    .nav-buttons-container {
        gap: 0.4rem;
    }
    #primary-header-row {
        gap: 0.4rem;
        padding: 0.2rem;
    }
}
/* === Desktop Responsive Adjustments === */
@media (min-width: 768px) {
    .nav-button {
        padding: 0.4rem 0.7rem;
        min-height: 2.5rem;
        max-height: 2.5rem;
        gap: 0.15rem;
    }
    .nav-button i {
        font-size: 1.2rem;
    }
    .nav-label {
        font-size: 0.5rem;
    }
    .app-logo {
        width: 2.4rem;
        height: 2.4rem;
    }
    .nav-buttons-container {
        gap: 0.8rem;
    }
    #primary-header-row {
        gap: 1rem;
        padding: 0.35rem;
    }
    #secondary-header-row .username-area,
    #secondary-header-row .custom-select-wrapper {
        max-width: 180px;
    }
}
@media (min-width: 700px) {
    .nav-buttons-container {
        gap: 1rem;
    }
    .nav-button {
        max-width: 6rem;
    }
}
@media (min-width: 869px) {
  body[data-page="rosters"] #header-container {
    display: flex;
    justify-content: center;
    padding: 0.5rem 0 0.9rem;
  }
  body[data-page="rosters"] #header-container .app-header {
    --roster-desktop-gap: 0.75rem;
    --roster-desktop-field-width: 200px;
    --roster-desktop-max: min(calc(100vw - 3rem), 1060px);
    display: grid;
    grid-template-columns: var(--roster-desktop-field-width) repeat(5, auto);
    grid-template-rows: auto auto;
    column-gap: var(--roster-desktop-gap);
    row-gap: 0.85rem;
    align-items: center;
    justify-content: center;
    padding: 0.9rem 1.15rem 1rem;
    margin: 0 auto;
    width: fit-content;
    max-width: var(--roster-desktop-max);
  }
  body[data-page="rosters"] #primary-header-row,
  body[data-page="rosters"] #contextual-controls,
  body[data-page="rosters"] #secondary-header-row,
  body[data-page="rosters"] #filters-row,
  body[data-page="rosters"] .filters-container {
    display: contents !important;
  }
  body[data-page="rosters"] #contextual-controls .header-row {
    border-top: 0;
    padding: 0;
  }
  body[data-page="rosters"] .username-area {
    grid-column: 1;
    grid-row: 1;
    width: var(--roster-desktop-field-width);
    max-width: var(--roster-desktop-field-width);
  }
  body[data-page="rosters"] .nav-buttons-container {
    grid-column: 2 / span 5;
    grid-row: 1;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    min-width: 0;
  }
  body[data-page="rosters"] .nav-buttons-container .nav-button {
    flex: 0 0 auto;
    width: 77px;
  }
  body[data-page="rosters"] .custom-select-wrapper {
    grid-column: 1;
    grid-row: 2;
    width: var(--roster-desktop-field-width);
    max-width: var(--roster-desktop-field-width);
  }
  body[data-page="rosters"] .view-switcher {
    grid-column: 2;
    grid-row: 2;
    justify-self: flex-start;
  }
  body[data-page="rosters"] .start-sit-button-slot {
    grid-column: 3;
    grid-row: 2;
    justify-self: flex-start;
  }
  body[data-page="rosters"] #positional-filters {
    grid-column: 4;
    grid-row: 2;
    justify-content: flex-start;
    margin-left: 3px;
  }
  body[data-page="rosters"] #clearFiltersButton {
    grid-column: 5;
    grid-row: 2;
    margin: 0;
  }
  body[data-page="rosters"] .compare-controls {
    grid-column: 6;
    grid-row: 2;
    display: flex;
    align-items: center;
    justify-self: flex-start;
    position: static;
  }
  body[data-page="rosters"] .compare-controls .compare-search-toggle {
    margin: 0;
  }
  body[data-page="rosters"] #header-container {
    position: fixed;
    top: 0;
    top: 7px;
    left: 0;
    right: 0;
    width: 100vw;
  }
}
@media (min-width: 869px) {
  body[data-page="rosters"] #homeButton {
    margin-left: 20px;
  }
n {
    gap: 0.09rem;
  }
  .compact-switcher button {
    padding: 0.3rem 0.4rem 0.2rem !important;
    min-width: 38px;
  }
  .compact-switcher button i {
    font-size: 0.75rem;
  }
.switcher-label {
    font-size: 0.45rem;
  }
  .start-sit-button {
    padding: 0.3rem 0.535rem 0.2rem !important;
    width: 75px;
    margin-left: 2px;
    flex: 0 0 60px !important;
    min-width: 62px !important;
  }
  .start-sit-button .analyzer-icon {
    font-size: 0.951rem;
  }
  #primary-header-row .primary-switcher,
  #secondary-header-row .secondary-switcher {
    min-width: 115px;
    margin-block: 0.075rem;
    margin-left: 13px;
  }
}
        .app-header {
            padding: 0.25rem;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            --header-icon-size: 2.25rem;
            --header-control-height: 2.2rem;
            --header-field-max-width: 160px;
            --header-switcher-width: 12.25rem;
        }
        .header-row {
            display: flex;
            flex-wrap: nowrap; /* Prevent wrapping */
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            padding-bottom: 1px; /* space for scrollbar */
        }
        .app-header > .header-row:first-of-type,
        #contextual-controls .header-row:first-child {
            display: grid;
            grid-template-columns: var(--header-icon-size) minmax(120px, var(--header-field-max-width)) minmax(var(--header-switcher-width), 1fr);
            align-items: center;
            gap: 0.5rem;
            padding-left: 0.25rem;
            padding-right: 0.25rem;
        }
        #contextual-controls .header-row {
            border-top: 1px solid var(--color-panel-border);
            padding-top: 0.3rem;
        }
        #contextual-controls .header-row:first-child {
            gap: 0.5rem;
        }
        #contextual-controls .header-row:has(#positional-filters) {
            gap: 0.15rem;
            padding-left: 0.15rem;
            padding-right: 0.2rem;
        }
        #primary-header-row .menu-container,
        #secondary-header-row .analyzer-button-container,
        .analyzer-button-slot,
        .research-button-slot {
            width: max(var(--header-icon-size), 2.6rem);
            height: var(--header-control-height);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .header-quick-links {
            display: none;
            align-items: center;
            gap: 0.35rem;
        }
        .header-quick-links .analyzer-button-container,
        .header-quick-links .research-button-container {
            width: var(--header-icon-size);
            height: var(--header-control-height);
        }
        #primary-header-row .menu-container {
            position: relative;
        }
        #primary-header-row .menu-button,
        #secondary-header-row .analyzer-button {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            box-sizing: border-box;
        }
        #primary-header-row .menu-button svg {
            width: 1.25rem;
            height: 1.25rem;
        }
        #secondary-header-row .analyzer-button,
        .header-quick-links .analyzer-button,
        .header-quick-links .research-button {
            border: none;
            background: transparent;
            color: var(--color-text-secondary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0;
            gap: 0.1rem;
        }
        #secondary-header-row .analyzer-button .analyzer-icon,
        .header-quick-links .analyzer-button .analyzer-icon,
        .header-quick-links .research-button .analyzer-icon {
            display: block;
            margin: 0;
            line-height: 1;
            font-size: 1.22rem;
        }
        #secondary-header-row .analyzer-button .analyzer-label,
        .header-quick-links .analyzer-button .analyzer-label,
        .header-quick-links .research-button .analyzer-label {
            display: block;
            margin: -2px 0 0 0;
            padding: 0;
            font-size: 0.50rem;
            font-weight: 400;
            line-height: 1;
            color: inherit;
            white-space: nowrap;
        }
        #secondary-header-row .analyzer-button:hover .analyzer-icon,
        #secondary-header-row .analyzer-button:focus-visible .analyzer-icon,
        .header-quick-links .analyzer-button:hover .analyzer-icon,
        .header-quick-links .analyzer-button:focus-visible .analyzer-icon,
        .header-quick-links .research-button:hover .analyzer-icon,
        .header-quick-links .research-button:focus-visible .analyzer-icon {
            color: var(--color-text-primary);
        }
        #primary-header-row .username-area,
        #secondary-header-row .custom-select-wrapper {
            justify-self: center;
        }
        #primary-header-row .primary-switcher,
        #secondary-header-row .secondary-switcher {
            justify-self: end;
            min-width: 100px;
            max-width: var(--header-switcher-width);
            height: var(--header-control-height);
            display: flex;
            align-items: stretch;
            margin-block: 0.075rem;
        }
        #primary-header-row .primary-switcher button,
        #secondary-header-row .secondary-switcher button {
            flex: 1 1 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #primary-header-row .menu-container,
        #primary-header-row .username-area,
        #secondary-header-row .analyzer-button-container,
        #secondary-header-row .custom-select-wrapper,
        .analyzer-button-slot,
        .research-button-slot {
            margin-block: 0.075rem;
        }
        @media (min-width: 869px) {
            #primary-header-row .menu-container,
            #primary-header-row .username-area,
            #secondary-header-row .analyzer-button-container,
            #secondary-header-row .custom-select-wrapper,
            .analyzer-button-slot,
            .research-button-slot {
          min-width: 200px;
            }
        }
        #contextual-controls {
            display: flex;
            flex-direction: column;
        }
        #contextual-controls.hidden {
            display: none;
        }
    @media (min-width: 869px) {
            .header-quick-links {
                display: flex;
            }
            #primary-header-row {
                grid-template-columns: var(--header-icon-size) max-content minmax(120px, var(--header-field-max-width)) minmax(var(--header-switcher-width), 1fr);
            }
            .header-quick-links .analyzer-button,
            .header-quick-links .research-button {
                gap: 0.2rem;
            }
            #header-quick-links #analyzeLeagueButton,
            #header-quick-links #analyzeLeagueButton.glow-on-select,
            #header-quick-links #analyzeLeagueButton.active {
                background: transparent !important;
                border: none !important;
                box-shadow: none !important;
                color: var(--color-text-secondary);
            }
            #header-quick-links #analyzeLeagueButton .analyzer-icon {
            margin-top: 0 !important;
            font-size: 1.3rem !important;
            }
            #header-quick-links #analyzeLeagueButton .analyzer-label {
                margin-top: -2px !important;
            }
            #header-quick-links #analyzeLeagueButton:hover .analyzer-icon,
            #header-quick-links #analyzeLeagueButton:focus-visible .analyzer-icon {
                color: var(--color-text-primary);
            }
        }
  /* · · Ensure hidden truly hides views regardless of ID display rules · · */
        #playerListView.hidden, #rosterView.hidden { display: none !important; }
                /* · · Row 1 · · */
                .username-area {
                    flex-grow: 1;
                    min-width: 100px; /* prevent it from getting too small */
                    padding: 0;
                    height: var(--header-control-height);
                    display: flex;
                    align-items: stretch;
                }
                /* · · #usernameInput block · · */
        #usernameInput {
          background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
          border: 1px solid var(--color-panel-border);
          border-radius: 8px;
          -webkit-backdrop-filter: blur(4px) saturate(110%);
          backdrop-filter: blur(4px) saturate(110%);
          box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
          color: #c4c8eaba;
          padding: 0.23rem 0.5rem;
          font-size: 0.7rem;
          font-weight: 300;
          width: 100%;
          height: 100%;
          transition: all 0.2s ease;
        }
        #usernameInput::placeholder {
                    color: #5F6795aa !important;
        }
          /* · · Prevent browser autofill from turning the username bar white (Safari/Chrome) · · */
        #usernameInput:-webkit-autofill,
        #usernameInput:-webkit-autofill:hover,
        #usernameInput:-webkit-autofill:focus {
          -webkit-text-fill-color: #c4c8ea !important;
          caret-color: #c4c8ea !important;  /* Overwrite the default yellow/white fill with a transparent inset */
          -webkit-box-shadow: 0 0 0px 1000px rgba(13,14,35,0) inset !important;
          box-shadow: 0 0 0px 1000px rgba(13,14,35,0) inset !important;
          background-color: transparent !important;
          border: 1px solid var(--color-panel-border) !important;
          background-clip: padding-box !important;
          transition: background-color 99999s ease-in-out 0s !important;
        }
        #usernameInput:focus {
            outline: none;
            border-color: var(--color-accent-primary);
            box-shadow: 0 0 var(--glow-strength) var(--color-accent-primary-glow);
        }
        /* · · Row 2 · · */
        .custom-select-wrapper {
            position: relative;
            flex-grow: 1;
            min-width: 100px;
            height: var(--header-control-height);
            display: flex;
            align-items: stretch;
            overflow: hidden;
        }
        #leagueSelect {
            appearance: none;  /* EDITED: Increased transparency */
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
            border: 1px solid var(--color-panel-border);
            border-radius: 8px;
            -webkit-backdrop-filter: blur(4px) saturate(110%);
            backdrop-filter: blur(4px) saturate(110%);
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
            padding: 0.32rem 1.25rem 0.32rem 0.5rem;
            font-size: 14px;
            color: #c4c8ea7a;
            font-weight: 300;
            width: 100%;
            height: 100%;
            min-width: 100px;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        #leagueSelect:focus,
        #leagueSelect:focus-visible,
        .custom-select-wrapper:focus-within #leagueSelect {
          outline: none !important;
          box-shadow: inset 0 1px 1px rgba(255,255,255,0.05) !important; /* preserve glass inset */
          border-color: var(--color-panel-border) !important;
        }
        .custom-select-wrapper::after {
            content: '▼';
            position: absolute;
            top: 50%;
            right: 0.5rem;
            transform: translateY(-50%) scale(0.6);
            color: var(--color-text-secondary);
            pointer-events: none;
        }
        /* · · Row 3 · · */
        #positional-filters {
            /* This will no longer grow, allowing the parent to center it */
            justify-content: center;
        }
/* ⬇︎ HIGH-END GLASS BUTTONS & SEGMENTED CONTROLS V3 ⬇︎ */
        .primary-switcher, .secondary-switcher, #positional-filters {
            display: flex;
            border: 1px solid var(--color-panel-border);
            border-radius: 8px;
            padding: 0.1rem 0.12rem;
            gap: 0.15rem;
            flex-shrink: 0;
       }
		.primary-switcher {
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
        }
		.secondary-switcher {
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
        }
		#positional-filters {
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
            padding: 0.1rem 0.02rem !important;
        }
/* ⬇︎ MAIN BUTTON STYLES ⬇︎ */
        .primary-switcher button {
            padding: 0.12rem 0.55rem;
            font-size: 0.85rem;
            font-weight: 400;
            border: 1px solid transparent;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            color: var(--color-text-secondary);
            text-shadow: 0 0 2px rgba(0,0,0,0.2);
        }
        .secondary-switcher button, .filter-btn {
            padding: 0.12rem 0.55rem;
            font-size: 0.85rem;
            font-weight: 400;
            border: 1px solid transparent;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            white-space: nowrap;
            color: var(--color-text-secondary);
            text-shadow: 0 0 2px rgba(0,0,0,0.2);
        }
        .filter-btn {
            min-width: 43px;
            min-height: 30px;
            padding: 0.15rem 0.5rem;
            font-size: 0.85rem;
            font-weight: 400;
            border: 1px solid transparent;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            white-space: nowrap;
            color: var(--color-text-secondary);
            text-shadow: 0 0 2px rgba(0,0,0,0.2);
        }
        /* · · Primary buttons are bolder · · */
        .primary-switcher button {
            font-weight: 400;
            font-size: 0.9rem;
        }
        /* · · Hover States · · */
        .primary-switcher button:hover, .secondary-switcher button:hover, .filter-btn:hover {
            color: var(--color-text-primary);
            background: var(--color-panel-bg);
        }
        /* · · Active & Counterpart States (EDITED) · · */
        #fetchRostersButton.active {
            color: #D8F2FFEE;
            border-color: var(--color-accent-secondary); /* Blue */
            box-shadow: 0 0 8px var(--color-accent-secondary-glow);
        }
        #fetchOwnershipButton.active {
            color: #c4c8ea;
            border-color: #D90059; /* Pink */
            box-shadow: 0 0 8px #D90059;
        }
        #positionalViewBtn.active {
            color: #D8E2FFEE;
            border-color: var(--color-accent-primary); /* Purple */
            box-shadow: 0 0 8px var(--color-accent-primary-glow);
        }
        #depthChartViewBtn.active {
            color: #c4c8ea;
            border-color: var(--color-accent-trade-win); /* Green */
            box-shadow: 0 0 8px rgba(0, 245, 160, 0.5);
        }
        /* · · Counterpart buttons are dimmed · · */
        .primary-switcher button.counterpart-active, .secondary-switcher button.counterpart-active {
            color: var(--color-text-tertiary);
            background: transparent;
        }
        .primary-switcher button.counterpart-active:hover, .secondary-switcher button.counterpart-active:hover {
            color: var(--color-text-secondary);
        }
        /* · · Filter Buttons · · */
       .filter-btn.active[data-position="QB"] {
      color: #FF3A75da;
      box-shadow: inset 0 0 7px #FF3A7527;
    }
    .filter-btn.active[data-position="RB"] {
      color: #00EBC7da;
      box-shadow: inset 0 0 7px #00EBC727;
    }
    .filter-btn.active[data-position="WR"] {
      color: #58A7FF;
      box-shadow: inset 0 0 7px #58A7FF35;
    }
    .filter-btn.active[data-position="TE"] {
      color: #B469FF;
      box-shadow: inset 0 0 7px #B469FF35;
    }
    .filter-btn.active[data-position="FLX"] {
      color: #8983a0;
      box-shadow: inset 0 0 7px #82808767;
    }
        .filter-btn.active {
        position: relative;
        background: rgba(0, 0, 0, 0.02);
        backdrop-filter: blur(1px) saturate(180%);
        border: 1px solid rgba(250, 250, 250, 0.09);
        border-radius: 7px;
        box-shadow: 0 1px 5px rgba(31, 38, 105, 0.01), inset 0 3px 10px rgba(255, 255, 255, 0.013);
    }
    /* AFTER */
    .filter-btn.active::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 7px;
        backdrop-filter: blur(1px);
        box-shadow: inset 5px 6px 0px -4px rgba(255, 255, 255, .05),
        inset 0px 4px 0px -3px rgba(255, 255, 255, .051);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) brightness(100%);
        pointer-events: none;
    }

/* · · Preview Button • Ctrl Button · · */
        .control-button {
            padding: 0.29rem 0.6rem;
            font-size: 0.8rem;
            font-weight: 500;
            border: 1px solid var(--color-panel-border);  /* EDITED: Increased transparency */
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1))!important;
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            color: var(--color-text-secondary);
        }
        #compareButton {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 4px;
        }
        .control-button.glow-on-select {
            box-shadow: 0 0 8px #7300ff;
            color: #eeeeee;
            border: 1px solid #4E00DA;
        }
    /* · · Show All Button · · */
        .control-button.active {
            color: #BDC1D8ca;
            border: 1px solid #833fff39;
            box-shadow: inset 0 0 10px #7310ff29, 0 0 3px #7310ff40;
            text-shadow:
                0 0 3px rgba(43, 0, 255, 0.5),
                0 0 5px rgba(73, 0, 255, 0.2);
        }
        .control-button:disabled {
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1))!important;
            box-shadow: inset 0 1px 2px rgba(200,200,200,0.08) !important;
            color: var(--color-text-tertiary) !important;
            cursor: not-allowed;
            border-color: var(--color-panel-border) !important;
        }
        .control-button-subtle {
            background: none;
            border: none;
            color: #5F679572;
            text-decoration: underline;
            font-size: 0.75rem;
            cursor: pointer;
            padding: 0;
            transition: color 0.2s ease;
        }
        .control-button-subtle.active {
            color: var(--color-text-secondary);
        }
    /* Show All Button cont.. */
        #compareButton.compare-show-all {
            align-items: center;
            justify-content: center;
        }
        #compareButton .compare-show-all-stack {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1;
            gap: 0;
            padding-top: 0px !important;
            padding-bottom: 0px !important;
        }
        #compareButton .compare-show-all-icon {
            display: block;
            margin: 0;
            font-size: 1.25rem;
            line-height: 1;
        }
        #compareButton .compare-show-all-label {
            display: block;
            margin: -2px 0 0 0;
            font-size: 0.5rem;
            font-weight: 300;
            line-height: 1;
        }
.app-header.preview-active #primary-header-row,
.app-header.preview-active #secondary-header-row {
  display: none !important;
}
@media (min-width: 869px) {
  body[data-page="rosters"] #header-container .app-header.preview-active {
    --roster-desktop-gap: 0.6rem;
    --roster-desktop-field-width: 113px;
    --roster-desktop-max: min(calc(100vw - 3rem), 1060px);
    --roster-preview-gap: clamp(0.4rem, 1.2vw, 0.7rem);
    display: grid;
    grid-template-columns: var(--roster-desktop-field-width) repeat(5, auto);
    grid-template-rows: auto auto;
    column-gap: var(--roster-desktop-gap);
    row-gap: 0.85rem;
    align-items: center;
    justify-content: center;
    padding: 0.9rem 1.15rem 0.21rem;
    margin: 0 auto;
    width: fit-content;
    max-width: var(--roster-desktop-max);
  }
  body[data-page="rosters"] .app-header.preview-active #primary-header-row {
    display: none !important;
  }
  body[data-page="rosters"] .app-header.preview-active #contextual-controls {
    display: contents !important;
  }
  body[data-page="rosters"] .app-header.preview-active #contextual-controls .header-row {
    display: contents !important;
  }
  body[data-page="rosters"] .app-header.preview-active #secondary-header-row {
    display: contents !important;
  }
  body[data-page="rosters"] .app-header.preview-active #filters-row {
    display: contents !important;
  }
  body[data-page="rosters"] .app-header.preview-active #secondary-header-row .username-area,
  body[data-page="rosters"] .app-header.preview-active #secondary-header-row .custom-select-wrapper {
    display: none !important;
  }
  body[data-page="rosters"] .app-header.preview-active .view-switcher {
    grid-column: 1;
    grid-row: 1;
    justify-self: flex-start;
    margin-left: 0;
  }
  body[data-page="rosters"] .app-header.preview-active .secondary-switcher {
    margin-left: 0;
  }
  body[data-page="rosters"] .app-header.preview-active .start-sit-button-slot {
    grid-column: 2;
    grid-row: 1;
    justify-self: flex-start;
    margin: 0;
  }
  body[data-page="rosters"] .app-header.preview-active .start-sit-button-container {
    flex: 0 0 auto !important;
  }
  body[data-page="rosters"] .app-header.preview-active .filters-container {
    grid-column: 3;
    grid-row: 1;
    display: contents !important;
  }
  body[data-page="rosters"] .app-header.preview-active #positional-filters {
    grid-column: 3;
    grid-row: 1;
    display: flex;
    align-items: center;
    gap: 0.35rem;
    margin: 0;
    justify-content: flex-start;
    min-width: 0;
  }
  body[data-page="rosters"] .app-header.preview-active #clearFiltersButton {
    grid-column: 4;
    grid-row: 1;
    margin: 0;
    justify-self: flex-start;
  }
  body[data-page="rosters"] .app-header.preview-active .compare-controls {
    grid-column: 5;
    grid-row: 1;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    position: static;
    margin-left: 0;
    justify-self: flex-end;
  }
}
/* Welcome page: enforce uniform control heights and tighter mobile spacing */
body[data-page="welcome"] {
  /* single source of truth for header control sizing on the welcome page */
  --welcome-header-control-height: 36px; /* slightly smaller for a tighter header */
}
/* Make menu slot, username area and enter control share a single height */
body[data-page="welcome"] #primary-header-row .menu-container,
body[data-page="welcome"] .username-area,
body[data-page="welcome"] .enter-button,
body[data-page="welcome"] .menu-button,
body[data-page="welcome"] .home-menu-slot {
  height: var(--welcome-header-control-height) !important;
  min-height: var(--welcome-header-control-height) !important;
  display: inline-flex !important;
  align-items: center !important;
}
/* Ensure the input fills the shared height and has balanced paddings */
body[data-page="welcome"] #usernameInput {
  height: var(--welcome-header-control-height) !important;
  padding-top: 0.18rem !important;
  padding-bottom: 0.18rem !important;
  padding-left: 0.6rem !important;
  padding-right: 0.6rem !important;
  border-radius: 8px;
  box-sizing: border-box;
  font-size: 17px !important;
}
/* Keep the enter button vertically centered and same height */
body[data-page="welcome"] .enter-button {
  height: var(--welcome-header-control-height) !important;
  min-height: var(--welcome-header-control-height) !important;
  align-items: center;
}
/* Reduce vertical gap on small screens so elements sit closer */
@media (max-width: 520px) {
  body[data-page="welcome"] #primary-header-row {gap: 0.65rem !important;}
  body[data-page="welcome"] .nav-buttons-container { gap: 0.25rem !important; }
}
/* Small tweak: ensure the hamburger/menu button matches sizing */
body[data-page="welcome"] .menu-button,
body[data-page="welcome"] #homeMenuToggle {
  height: 100% !important;
  width: 40px !important; /* fixed square for consistent visual */
  min-width: 40px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}
/* Make the enter label a touch-friendly height on mobile while keeping it short */
body[data-page="welcome"] .enter-label { line-height: 1; }
/* ⬇︎ ROSTER VIEW ⬇︎ */
        #rosterContainer {
            padding: 1px;
        }
        #rosterGrid {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            gap: 2px;
            min-width: min-content;
            padding-bottom: 1rem; /* For scrollbar clearance */
            justify-content: center;
        }
         #rosterGrid.is-preview-mode {
            justify-content: center;
        }
        #rosterGrid.start-sit-mode {
            gap: 0.04rem;
            justify-content: center;
        }
            .qb-section h3 {
            color: var(--pos-qb);
            border: solid 1px #FF3A7599;
            box-shadow: inset 0 0 20px #FF3A7520;
    }
        .rb-section h3 {
            color: var(--pos-rb);
            border: solid 1px #00EBC799;
            box-shadow: inset 0 0 20px #00EBC716;
    }
         .wr-section h3 {
            color: var(--pos-wr);
            border: solid 1px #58A7FF99;
            box-shadow: inset 0 0 20px #58A7FF20;
    }
        .te-section h3 {
            color: var(--pos-te);
            border: solid 1px #B469FF99;
            box-shadow: inset 0 0 20px #B469FF20;
    }
    /* · · Card Box Shadows by POS · · */
        .qb-section .player-row {
            box-shadow: inset 0 0 15px #FF3A7522;   /* QB border */
    }
        .rb-section .player-row {
            box-shadow: inset 0 0 15px #00EBC715;   /* RB border */
    }
        .wr-section .player-row {
            box-shadow: inset 0 0 15px #58A7FF20;   /* WR border */
    }
        .te-section .player-row {
            box-shadow: inset 0 0 15px #B469FF20;   /* TE border */
    }
/* ⬇︎ PLAYER & PICK CARD STYLES ⬇︎ */
        .player-row, .pick-row {
            background: var(--color-panel-bg);
            border: 1px solid var(--color-panel-border);
            border-radius: var(--card-border-radius);
            padding: 0.15rem;
            margin-top: 2px;
            display: flex;
            flex-direction: column;
            gap: 0.01rem;
            transition: all 0.2s ease;
            backdrop-filter: blur(var(--roster-card-blur));
            -webkit-backdrop-filter: blur(var(--roster-card-blur));
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .start-sit-column .player-row,
        .start-sit-column .pick-row {
            gap: 0.001rem;
        }
@media (min-width: 820px) {
  .player-row,
  .pick-row {
      --roster-card-blur: 0px;
      background: rgba(22, 24, 43, 0.35);
      box-shadow: 0 12px 28px rgba(7, 10, 25, 0.32);
      contain: paint;
  }
}
        .is-trade-mode .player-row, .is-trade-mode .pick-row {
            cursor: pointer;
        }
        .is-trade-mode .player-row:hover, .is-trade-mode .pick-row:hover {
            border-color: var(--color-panel-border-glow);
            transform: translateY(-2px);
        }
        .player-selected {
            border-color: var(--color-accent-primary) !important;
            box-shadow: 0 0 var(--glow-strength) var(--color-accent-primary-glow);
        }
        .player-main-line {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 0.25rem;
        }
        .player-injury-badge {
            display: inline-flex;
            align-items: center;
            justify-content: flex-end;
            margin-left: auto;
            font-weight: 700;
            font-size: 0.63rem;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            line-height: 1;
        }
    .player-name {
            font-weight: 400;
            font-size: 0.75rem;
            color: #d0d1ee;
            line-height: 1.2;
            white-space: nowrap !important;
        }
    .player-name-clickable {
        text-decoration: underline;
        text-decoration-color: #9096D090;
    }
        .player-tag {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: 700;
            padding: 1px 3px;
            border-radius: 4px;
            color: var(--color-bg);
            line-height: 1;
        }
        .player-meta-line {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.01rem 0.1rem;
            gap: 0.0rem;
            font-size: 0.65rem;
            color: var(--color-text-secondary);
        }
        .start-sit-column .player-meta-line {
            padding: 0rem 0.1rem;
        }
        .team-tag {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: 600;
            padding: 1px 4px;
            border-radius: 4px;
            line-height: 1;
        }
        .player-value-line {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.57rem;
            font-weight: 500;
            color: var(--color-text-secondary);
            background: #1d223faa;
            border-radius: 6px;
            padding: 0.0rem 0.07rem;
        }
        .player-value-line .value {
            font-weight: 600;
            font-size: 0.63rem;
            color: var(--color-text-primary);
        }
        /* Lower the rank annotation on player cards' KTC value line */
        .player-value-line .has-rank-annotation .stat-rank-annotation {
            transform: translateY(0.0rem);
        }
        .pick-row {
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }
        .pick-label {
            font-weight: 700;
            font-size: 0.75rem;
        }
        .pick-ktc {
            font-size: 0.7rem;
            color: var(--color-text-secondary);
        }
        .pick-ktc .value {
            font-weight: 700;
            color: var(--color-text-primary);
        }
        .team-compare-checkbox {
            appearance: none;
            width: 1rem;
            height: 1rem;
            border: 2px solid var(--color-text-tertiary);
            box-shadow: 0 0 7px #5300ff, inset 0 0 2px #7300ff;
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease-in-out;
            justify-self: start;
        }
        .team-compare-checkbox.selected {
            border-color: var(--color-accent-primary);
            background-color: var(--color-accent-primary);
            box-shadow: 0 0 var(--glow-strength) var(--color-accent-primary-glow);
        }
        .team-compare-checkbox.selected::after {
            content: '✔';
            position: absolute;
            color: var(--color-bg);
            font-size: 0.7rem;
            font-weight: 900;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .roster-column {
            width: 129px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            border: 1px solid transparent;       /* new base border */
            border-radius: 8px;                   /* match header */
        }
/* ⬇︎ COMPARE SELECTION GLOW ⬇︎ */
.roster-column:has(.team-compare-checkbox.selected) .team-card {
  box-shadow: inset 0 0 4px #6300ff55, inset 0 0 38px #5300ff35;          /* same highlight as header */
}
       .team-header-item {
      display: grid;
      grid-template-columns: auto minmax(0, 1fr) auto;
      align-items: center;
      column-gap: 0.25rem;
      font-size: 0.7rem;
      font-weight: 500;
      color: #d0d1ee;
      text-align: center;
      padding: 0.32rem 0.45rem;
      cursor: pointer;
      /* · · Glass look to match filter groups · · */
      background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
      border: 1px solid var(--color-panel-border);
      border-radius: 8px;
      -webkit-backdrop-filter: blur(4px) saturate(110%);
      backdrop-filter: blur(4px) saturate(110%);
      box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
      position: sticky;
      z-index: 1;
}
        .team-header-item:hover {
            box-shadow: 0 0 5px #7300ff;
        }
		.team-header-item:has(.team-compare-checkbox.selected) {
          border: 1px solid #6300ffaa;
          box-shadow: inset 0 0 2px #6300ff55, inset 0 0 30px #5300ff35;
  }
        .team-card {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
@supports (content-visibility: auto) {
  #rosterGrid.roster-cv-enabled .team-card {
      content-visibility: auto;
      contain-intrinsic-size: auto var(--team-card-intrinsic-size, 1200px);
  }
}
        .roster-section h3 {
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .8px;
      margin-bottom: 0.2rem;
      color: var(--color-text-primary);
      text-align: center;
      padding: 0.0rem 0;
      position: relative;
      border: 1px solid var(--color-panel-border);
      border-radius: 5px;
      -webkit-backdrop-filter: saturate(114%) blur(1px);
      backdrop-filter: saturate(114%) blur(1px);
      overflow: hidden;
}
.roster-section h3::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background-color: rgba(20, 28, 58, 0.15);
  background-image: linear-gradient(rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0) 35%);
}
    /* · · Postion Header Borders · · */

/* ⬇︎ OWNERSHIP (PLAYER LIST) VIEW ⬇︎ */
        #playerListView {
            max-width: 700px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 100%;
        }
        #playerSearch {
            background: var(--color-panel-bg);
            border: 1px solid var(--color-panel-border);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            color: var(--color-text-primary);
            padding: 0.50rem 0.75rem;
            border-radius: var(--panel-border-radius);
            font-size: 1rem;
            width: 100%;
            margin: 0.5rem auto;
            display: block;
            transition: all 0.2s ease;
            position: sticky;
            top: 0;
            z-index: 5;
            flex-shrink: 0;
        }
#usernameInput:focus, #leagueSelect:focus {
            outline: none;
            border-color: var(--color-accent-primary);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.2), 0 0 8px var(--color-accent-primary-glow);
        }
        #playerSearch::placeholder {
            color: var(--color-text-secondary);
            font-weight: 200;
        }
      
        /* · · Responsive Header Layout · · */
        @media (min-width: 820px) {
    .app-header {
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
        gap: 0.75rem;
        padding: 0.25rem 0.5rem;
    }
    .header-row {
        width: auto;
        flex-grow: 1;
        justify-content: center;
    }
    #primary-header-row {
        flex-grow: 0;
        gap: 0.5rem;
    }
    .nav-buttons-container {
        flex-grow: 0;
    }
    .nav-button {
        width: auto;
        min-width: 60px;
    }
    #secondary-header-row {
        flex-grow: 1;
        justify-content: center;
        gap: 0.75rem;
    }
    #secondary-header-row .username-area,
    #secondary-header-row .custom-select-wrapper {
        max-width: 200px;
    }
    #filters-row {
        flex-grow: 1;
        justify-content: flex-end;
    }
}
/* === Home page (welcome) — scoped header simplification === */
body[data-page="welcome"] .app-header {
  display: flex !important;
  align-items: center;
  justify-content: center; /* center header on desktop */
  padding: 0.3rem 0.15rem;
}
/* tighter grid: menu - username - enter */
/* Desktop: center the header group and keep controls tightly grouped */
@media (min-width: 820px) {
  body[data-page="welcome"] #primary-header-row {
    display: flex;
    align-items: center;
    justify-content: center; /* keep the group centered */
    gap: 0.5rem; /* small gap between controls */
    width: auto;
    max-width: 920px;
    margin: 0 auto;
    padding-left: 8px;
    padding-right: 8px;
  }
}
/* For narrow viewports, keep a compact grid to allow wrapping */
@media (max-width: 819px) {
  body[data-page="welcome"] #primary-header-row {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 0.5rem;
    align-items: center;
    width: 100%;
    padding-left: 8px;
    padding-right: 8px;
  }
}
/* make sure only for home: hide any leftover contextual controls */
body[data-page="welcome"] #contextual-controls { display: none !important; }
/* Username field sizing for home */
body[data-page="welcome"] .username-area { min-width: 0; }
body[data-page="welcome"] #usernameInput {
  max-width: 520px;
  width: 100%;
  font-size: 0.96rem;
  padding: 0.36rem 0.65rem;
  border-radius: 10px;
  height: 40px; /* slightly reduced height for tighter header */
  box-sizing: border-box;
}
/* Enter button styling — styled to match the other nav buttons with a circular icon inside */
body[data-page="welcome"] .home-enter-slot { display: flex; align-items: center; justify-content: center; }
body[data-page="welcome"] .enter-button {
  display: inline-flex;
  flex-direction: row; /* label left of icon */
  align-items: center;
  justify-content: center;
  gap: 0.5rem; /* larger gap so label and circle don't butt up against each other */
  padding: 0 9px; /* more horizontal breathing room */
  background: rgba(13, 14, 35, 0.10);
  border: 1px solid rgba(128, 138, 189, 0.10);
  color: var(--color-text-secondary);
  border-radius: 10px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.14), inset 0 1px 0 rgba(255,255,255,0.02);
  cursor: pointer;
  transition: transform 110ms ease, box-shadow 110ms ease, background 110ms ease;
  align-self: center;
  height: 40px; /* uniform control height */
  min-width: 78px; /* ensure the control doesn't shrink too small */
  white-space: nowrap; /* prevent enter label wrapping */
}
body[data-page="welcome"] .enter-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 36px rgba(0,0,0,0.34), inset 0 1px 0 rgba(255,255,255,0.04);
  color: var(--color-text-primary);
  background: rgba(13,14,35,0.32);
}
/* Circular icon inside the button — keep perfectly round */
body[data-page="welcome"] .enter-circle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px !important;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(125deg, rgba(118,109,255,.14), rgba(118,109,255,0.07));
  font-size: 0.88rem;
  box-shadow: 0 3px 6px rgba(91,76,255,0.08);
}
/* allow the Font Awesome rotation class to apply; keep inline-block for sizing */
body[data-page="welcome"] .enter-circle i {
  display: inline-block;
  line-height: 1;
  text-shadow: 2px 1px 1px #5800ff;
  font-size: 0.85rem !important;
}
body[data-page="welcome"] .enter-label {
  font-size: 0.95rem; /* larger label font */
  color: #cfc7ffdb;
  text-transform: none;
  margin: 0;
  line-height: 1;
  font-weight: 400;
  order: 0; /* ensure label is left of icon */
}
body[data-page="welcome"] .enter-circle { order: 1; }
/* Home menu dropdown */
body[data-page="welcome"] .home-menu-slot {display: flex;align-items: center;gap: 0.5rem;position: relative;margin-right: 4px;}
body[data-page="welcome"] .menu-toggle {
  background: transparent;
  border: 1px solid rgba(128,138,189,0.12);
  color: var(--color-text-secondary);
  padding: 0 10px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  height: 44px; /* match control height */
}
body[data-page="welcome"] .menu-toggle:hover { color: var(--color-text-primary); border-color: rgba(128,138,189,0.24); }
body[data-page="welcome"] .home-menu {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  min-width: 160px;
  background: rgba(38,37,63,0.94);
  border: 1px solid rgba(128,138,189,0.14);
  box-shadow: 0 18px 40px rgba(0,0,0,0.6);
  padding: 8px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 3px;
  z-index: 1200;
  max-height: 60vh;
  overflow: auto;
}
  body[data-page="welcome"] .home-menu.hidden { display: none !important; }
body[data-page="welcome"] .home-menu-item {
  background: transparent;
  color: var(--color-text-secondary);
  border: none;
  text-align: left;
  padding: 6px 8px;
  display: flex;
  gap: 8px;
  align-items: center;
  cursor: pointer;
  border-radius: 6px;
}
body[data-page="welcome"] .home-menu-item:hover { background: rgba(255,255,255,0.02); color: var(--color-text-primary); }
body[data-page="welcome"] .home-menu-item i { width: 16px; text-align: center; }
/* Mobile tweaks: keep button compact and inline */
@media (max-width: 520px) {
  body[data-page="welcome"] #primary-header-row { grid-template-columns: auto 1fr auto; gap: 0.4rem; padding-left: 8px; padding-right: 8px; }
  body[data-page="welcome"] .enter-button {min-width: 104px;height: 38px;padding: 0.2rem 0.85rem;gap: 0.6rem;}
  body[data-page="welcome"] .enter-label {font-size: 0.95rem;}
  body[data-page="welcome"] .enter-circle {
    width: 25px !important;
    height: 24px;
    font-size: 0.92rem;
  }
  body[data-page="welcome"] #usernameInput { font-size: 0.94rem; padding: 0.34rem 0.5rem; height: 38px; }
}
@media (max-width: 540px) {
  /* ⬇︎ 📱 OWNERSHIP PAGE: MOBILE CORRECTIONS (v4 — rows vs header separated) 📱 ⬇︎ */
  /* Container padding so content breathes */
  #playerListView { padding: 0 6px; }
  /* 📱 BODY ROWS ONLY 📱 */
  .player-list-section .pl-player-row {
    padding: 6px 3px !important;
    gap: 4px !important;
    font-size: 0.72rem !important;  /* FIX --- This was set to flex-start, causing the misalignment. Changed to center */
    align-items: center !important;
  }
  .player-list-section .pl-player-row .pl-player-name {
    font-size: 0.78rem !important;
    line-height: 1.2 !important;
    gap: 6px !important;
  }
  /* 📱 Inline bits inside the name line (e.g., Age) 📱 */
  .player-list-section .pl-player-row .pl-player-name span,
  .player-list-section .pl-player-row .pl-player-name .player-age {
    font-size: 0.6rem !important;
  }
  /* 📱 Team badge in rows 📱 */
  .player-list-section .pl-player-row .team-tag {
    font-size: 0.6rem !important;
    padding: 1px 6px !important;
  }
  /* 📱 Secondary details line (ADP, SFLX, RY) 📱 */
  .player-list-section .pl-player-row .pl-player-details {
    font-size: 0.60rem !important;
    line-height: 1.15 !important;
    white-space: normal !important;
  }
  /* 📱 Right meta columns (count | % | leagues) for rows 📱 */
  .player-list-section .pl-player-row .pl-right-meta {
    width: 160px !important;
    grid-template-columns: 22px 34px 1fr !important;
    column-gap: 6px !important;
    font-size: 0.68rem !important;
  }
  .player-list-section .pl-player-row .pl-col-count,
  .player-list-section .pl-player-row .pl-col-pct {
    text-align: center !important;
  }
  .player-list-section .pl-player-row .pl-col-lgs {
    font-size: 0.68rem !important;
    white-space: normal !important;
    text-align: left !important;
    line-height: 1.15 !important;
    word-break: break-word !important;
  }
  /* 📱 Position tag chip in rows 📱 */
  .player-list-section .pl-player-row .pl-list-tag {
    min-width: 22px !important;
    height: 18px !important;
    line-height: 18px !important;
    font-size: 0.68rem !important;
    margin-right: 4px !important;
  }
  .player-list-section .pl-player-row .pl-list-tag-spacer {
    width: 26px !important;
    margin-right: 6px !important;
  }
  /* 📱 Guard “Age:” and similar tiny bits inside rows 📱 */
  .player-list-section .pl-player-row .player-meta-line,
  .player-list-section .pl-player-row .player-meta-line .player-age,
  .player-list-section .pl-player-row .player-meta-line span {
    font-size: 0.68rem !important;
    line-height: 1.15 !important;
  }
  /* 📱 HEADER ONLY 📱 */
  .player-list-section .pl-list-header {
    font-size: 0.68rem !important;
    letter-spacing: .6px !important;
  }
  .player-list-section .pl-list-header .pl-player-name {
    font-size: 0.68rem !important;
  }
  .player-list-section .pl-list-header .pl-right-meta {
    width: 160px !important;
    grid-template-columns: 22px 34px 1fr !important;
    column-gap: 6px !important;
    font-size: 0.68rem !important;
  }
  .player-list-section .pl-list-header .pl-col-lgs {
    font-size: 0.68rem !important;
  }
  .player-list-section .pl-list-header .pl-player-info {
    flex-direction: row !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 3px 0px !important;
  }
}
/* ⬇︎ ROSTER PLAYER CARD KEY 1 (READY) ⬇︎ */
#rosterPlayerCardKey.legend-card {
  width: min(340px, 92%);
  max-width: 340px;
  margin: 0.9rem auto 0.4rem auto;  /* small gap above footnote */
  padding: 0.8rem 0.85rem;
  border-radius: var(--card-border-radius, 12px);
  box-sizing: border-box;
  flex: 0 0 auto;    /* prevent flex parents from stretching */
  align-self: center;
}
@media (min-width: 1440px) {
  #rosterPlayerCardKey.legend-card {
    width: 320px;
    max-width: 320px;
  }
}
  /* · · Top row alignment · · */
#rosterPlayerCardKey .legend-main {
  display: flex;
  align-items: center;
  gap: 0.55rem;
}
#rosterPlayerCardKey .legend-name { font-weight: 700; color: var(--color-text-primary); }
  /* · · Position tag pill · · */
#rosterPlayerCardKey .player-tag.legend-pos {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.14rem 0.55rem;
    background: linear-gradient(to bottom, rgba(13,14,35,0.15), rgba(8,8,25,0.32));
  border-radius: 8px;
  -webkit-backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  box-shadow: inset 0 0 3px rgba(255,255,255,0.13), rgba(0, 0, 0, 0.26) 0px 7px 26px 1px;
  font-weight: 800;
  color: var(--color-text-primary);
  letter-spacing: .25px;
  line-height: 1.05;
}
  /* · · Meta row: keep things aligned; push the last separator so team sits right · · */
#rosterPlayerCardKey .legend-meta {
  display: flex;
  align-items: center;
  font-weight: 600;
  color: var(--color-text-secondary);
}
#rosterPlayerCardKey .legend-pos-rank { color: var(--pos-qb, #FF3A75cc); } /* typical pos-rank tint */
#rosterPlayerCardKey .legend-age { color: var(--color-accent-primary, #58E6D9); }
#rosterPlayerCardKey .legend-meta .separator:last-of-type {
  margin-left: auto;
  margin-right: 0.5rem;
}
#rosterPlayerCardKey .legend-team {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.12rem 0.55rem;
  background: linear-gradient(to bottom, rgba(13,14,35,0.15), rgba(8,8,25,0.32));
  border-radius: 8px;
   -webkit-backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  box-shadow: inset 0 0 3px rgba(255,255,255,0.1), rgba(0, 0, 0, 0.26) 0px 10px 26px 1px;
  color: var(--color-text-primary);
  font-weight: 800;
  letter-spacing: .25px;
}
  /* · · Bottom row: align to edges, no chips on values · · */
#rosterPlayerCardKey .legend-bottom {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  border-top: 1px solid var(--color-panel-border);
  padding-top: 0.35rem;
}
#rosterPlayerCardKey .kv-left, #rosterPlayerCardKey .kv-right {
  color: var(--color-text-secondary);
  font-weight: 700;
  letter-spacing: .2px;
}
#rosterPlayerCardKey .legend-ktc { color: #00EBC7; font-weight: 800; }
#rosterPlayerCardKey .legend-adp { color: #58A7FF; font-weight: 800; }
#rosterPlayerCardKey .legend-ppg { color: #58A7FF; font-weight: 800; }
  /* · · External footnote below the card · · */
#rosterCardFootnote.legend-footnote {
  margin: 0.25rem auto 0;
  text-align: center;
  font-size: 0.74rem;
  color: var(--color-text-tertiary);
  max-width: 340px;
}
@media (min-width: 1440px) {
  #rosterCardFootnote.legend-footnote { max-width: 320px; }
}
  /* · · Legend vertical spacing + centering tweaks · · */
#rosterPlayerCardKey.legend-card {
  /* spread out vertically by a lot */
  padding: 1.25rem 0.95rem;
}
#rosterPlayerCardKey .legend-main {
  margin-bottom: 0.9rem; /* spacing between name row and meta row */
}
#rosterPlayerCardKey .legend-meta {
  margin-bottom: 0.9rem; /* spacing between meta row and bottom row */
}
  /* · · KTC/ADP row vertically centered with its background · · */
#rosterPlayerCardKey .legend-bottom {
  align-items: center !important; /* center the text vertically */
  min-height: 2.4rem;             /* give the row a stable height */
}
#rosterPlayerCardKey .kv-left,
#rosterPlayerCardKey .kv-right {
  gap: 0.45rem; /* comfortable label/value spacing */
}
#rosterPlayerCardKey .kv-left .value,
#rosterPlayerCardKey .kv-right .value {
  line-height: 1.15; /* improve vertical alignment appearance */
}
  /* · · Legend bottom-row background: smaller vertical height without changing text spacing · · */
#rosterPlayerCardKey .legend-bottom {
  position: relative;
  background: transparent !important; /* ensure no inherited row bg */
}
#rosterPlayerCardKey .legend-bottom::before {
  content: "";
  position: absolute;
  left: 0.5rem;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  height: var(--legend-bottom-bg-height, 1.25rem); /* <-- adjust this to change the bg height */
    z-index: 0;
  pointer-events: none;
}
#rosterPlayerCardKey .legend-bottom > * {
  position: relative;
  z-index: 1; /* keep text above the bg overlay */
}
/* ⬇︎ BOTTOM BAR REWORK: FULL-WIDTH INNER CONTAINER, NO PSEUDO, NO EXTRA LINE ABOVE ⬇︎ */
#rosterPlayerCardKey .legend-bottom {
  position: relative;
  border-top: none !important;      /* remove the line above */
  padding-top: 0 !important;
  margin-top: 0.2rem;               /* small spacing from meta row (text spacing unchanged) */
}
#rosterPlayerCardKey .legend-bottom::before {
  content: none !important;         /* kill previous overlay if present */
}
#rosterPlayerCardKey .legend-bottom-bg {
  display: flex;
  align-items: center;              /* vertically middle-align KTC/ADP with the bar */
  justify-content: space-between;
  width: 110%;
  padding: 0.55rem 0.75rem;         /* controls bar height; adjust first value for taller/shorter */
  background: linear-gradient(to bottom, rgba(13,14,35,0.15), rgba(8,8,25,0.32));
  border-radius: 8px;
   -webkit-backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  box-shadow: inset 0 0 3px rgba(255,255,255,0.08), rgba(0, 0, 0, 0.22) 0px 10px 26px 0px;
  color: var(--color-text-primary);
  font-weight: 800;
  letter-spacing: .25px;
  box-sizing: border-box;
}
#rosterPlayerCardKey .legend-bottom-bg .kv-left,
#rosterPlayerCardKey .legend-bottom-bg .kv-right {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}
#rosterPlayerCardKey .legend-bottom-bg .value { line-height: 1.15; }
    /* · · CUSTOM RULE: Prevent Wrapping on Ownership Page · · */
    #playerListView .pl-player-info,
    #playerListView .pl-player-details {
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }
  /* · · STARFIELD · · */
html { height: 100%; overflow-y: auto !important; }
  /* · · FIXED: Removed transparent background from body to fix Safari UI bar color · · */
body { min-height: 100%; }
#starfield {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    /* Sphere on TOP-LEFT (on top layer) */
    radial-gradient(
      660px 660px at 20% -20%,
     rgba(52, 11, 113, 0.05) 1%, rgba(150, 0, 120, 0.05) 42%, rgba(115, 48, 250, 0.10) 62%, rgba(187, 0, 148, 0.05) 82%, rgba(255, 255, 255, 0) 100%),
      radial-gradient(
      460px 460px at 90% 10%,
     rgba(52, 11, 113, 0.35) 1%, rgba(20, 48, 50, 0.25) 32%, rgba(50, 0, 20, 0.10) 62%, rgba(87, 0, 48, 0.10) 82%, rgba(255, 255, 255, 0) 100%),
    /* Base starfield backdrop (below) */
    radial-gradient(ellipse at 50% 100%, #1B2735 0%, #090A0F 100%);
  background-repeat: no-repeat;
}
  /* · · Layers · · */
#stars, #stars1, #stars2, #stars3 { position: absolute; left: 0; top: 0; }
#stars1 {
  width: 1px;
  height: 1px;
  background: transparent;
  border-radius: 20px;
  box-shadow: 144px 251px #FF4089, 971px 1662px #F08CD1, 103px 690px #008CD1, 1261px 1837px #008CD1, 1584px 771px #FF00FF, 339px 1867px #008CD1, 217px 1383px #6300FF, 1727px 1329px #7300FF, 95px 1889px #008CD1, 1556px 1907px #9900FF, 355px 880px #FF4089, 1397px 1739px #ee22ff, 602px 983px #FFF, 893px 422px #FFF, 265px 520px #FFF, 1162px 1181px #55FFAA, 1064px 1352px #FFF, 748px 661px #FFF, 417px 57px #FFF, 1187px 1835px #3700B3, 319px 379px #ee22ff, 20px 1234px #FFF, 76px 1004px #FFF, 1842px 493px #FF5090, 21px 248px #00DFFF, 1363px 591px #FFF, 192px 1384px #00ABFF, 848px 986px #FFF, 567px 157px #FFF, 311px 1593px #FF4089, 1317px 759px #900FFF, 1153px 427px #0A0068, 1072px 1286px #42008D, 1992px 1969px #474D70, 346px 1975px #42008D, 987px 899px #52587C, 635px 1392px #002A48, 1524px 114px #5E00A0, 1801px 955px #7A00B2, 450px 1617px #26007B, 131px 1492px #B6C1DD, 482px 1207px #000A16, 1516px 465px #42008D, 1142px 377px #42008D, 282px 684px #6200EE, 49px 668px #5E00A0, 446px 1015px #52587C, 596px 682px #52587C, 841px 1301px #7300FF, 158px 1338px #c900ff, 1541px 1048px #c900ff, 702px 1524px #7588B6, 309px 845px #474D70, 1327px 371px #6200EE, 1778px 698px #002A48, 1213px 1622px #42008D, 1476px 1509px #42008D, 1358px 1788px #52587C, 506px 1018px #52587C, 1207px 1298px #0A0068, 1813px 446px #0A0068, 501px 1733px #7A00B2, 442px 302px #7A00B2, 964px 250px #000A16, 1366px 873px #000A16, 560px 383px #474D70, 1034px 1098px #474D70, 1090px 308px #26007B, 1695px 32px #26007B, 609px 1923px #7588B6, 427px 317px #7588B6, 278px 1533px #B6C1DD, 461px 175px #B6C1DD, 1705px 1238px #42008D, 1861px 1646px #42008D, 724px 1709px #002A48, 775px 1px #002A48, 764px 153px #5E00A0, 340px 1732px #5E00A0;
  animation: animStar 100s linear infinite;
}
  /* · · Small stars · · */
#stars {
  width: 1px; height: 1px; background: transparent;
  border-radius: 20px;
 box-shadow: 299px 72px #FFF, 1615px 196px #FFF, 1631px 75px #FFF, 543px 561px #FFF, 934px 1068px #FFF, 439px 695px #FFF, 1912px 1705px #FFF, 1855px 329px #FFF, 897px 240px #FFF, 643px 526px #FFF, 1855px 1783px #FFF, 1779px 790px #FFF, 1451px 508px #FFF, 1423px 791px #FFF, 1714px 900px #FFF, 735px 1223px #FFF, 594px 421px #FFF, 1472px 1778px #FFF, 195px 1193px #FFF, 1701px 235px #FFF, 1552px 1316px #FFF, 122px 1805px #FFF, 464px 102px #FFF, 1364px 332px #FFF, 1594px 333px #FFF, 1342px 1798px #FFF, 1160px 214px #FFF, 509px 1148px #FFF, 45px 1788px #FFF, 48px 1617px #FFF, 1850px 1230px #FFF, 767px 207px #FFF, 421px 1194px #FFF, 1770px 1211px #FFF, 118px 1285px #FFF, 920px 1169px #FFF, 1308px 230px #FFF, 1929px 628px #FFF, 1057px 0px #FFF, 852px 1002px #FFF, 625px 321px #FFF, 1627px 1062px #FFF, 750px 867px #FFF, 1057px 868px #FFF, 917px 1540px #FFF, 653px 807px #FFF, 290px 1236px #FFF, 975px 856px #FFF, 60px 678px #7300FF, 224px 1775px #7300FF, 1834px 121px #7300FF, 1937px 532px #FFF, 1133px 1494px #002A48, 1208px 1981px #c900ff, 1663px 1285px #6200EE, 1572px 130px #7A00B2, 1492px 1402px #5E00A0, 80px 1725px #7300FF, 900px 1332px #7300FF, 1692px 1501px #7300FF, 1281px 1315px #002A48, 1147px 848px #26007B, 153px 1437px #6200EE, 1272px 614px #26007B, 1335px 790px #26007B, 1166px 281px #26007B, 1938px 134px #5E00A0, 171px 137px #6200EE, 523px 654px #42008D, 1598px 48px #26007B, 364px 775px #c900ff, 1525px 1736px #26007B, 729px 1920px #c900ff, 484px 173px #c900ff, 694px 693px #c900ff, 1401px 1225px #52587C, 1513px 1441px #B6C1DD, 143px 545px #7300FF, 1426px 1508px #474D70, 991px 425px #7300FF, 743px 1489px #7300FF, 988px 192px #7300FF, 1629px 536px #0A0068, 507px 999px #7300FF, 1676px 469px #7300FF, 1757px 1506px #7300FF, 415px 377px #7300FF, 395px 1594px #26007B, 1653px 582px #26007B, 1280px 1631px #6200EE, 1006px 349px #c900ff, 93px 109px #26007B, 612px 1226px #474D70, 409px 1647px #26007B, 1429px 1404px #c900ff, 1848px 110px #FFF, 323px 1055px #42008D, 1364px 443px #26007B, 1082px 1250px #26007B, 1399px 681px #FFF, 1386px 1408px #FFF, 620px 1340px #FFF, 1383px 555px #FFF, 1615px 270px #FFF, 497px 544px #FFF, 569px 1157px #FFF, 1066px 527px #FFF, 1477px 565px #FFF, 924px 1214px #FFF, 827px 665px #FFF, 1186px 1861px #FFF, 1726px 1434px #FFF, 882px 1307px #FFF, 783px 1070px #FFF, 816px 1043px #FFF, 586px 270px #FFF, 1317px 1322px #FFF, 1909px 514px #FFF, 173px 1056px #FFF, 725px 343px #FFF, 804px 1329px #FFF, 1457px 1612px #FFF, 381px 1534px #FFF, 1095px 1658px #FFF, 1298px 535px #52587C, 787px 524px #FFF, 1771px 1873px #FFF, 236px 210px #FFF, 1949px 1307px #FFF, 1269px 903px #FFF, 1644px 797px #FFF, 942px 1682px #FFF, 965px 628px #FFF, 384px 1903px #FFF, 808px 1498px #FFF, 1561px 1967px #FFF, 883px 1083px #FFF, 1560px 280px #FFF, 677px 733px #FFF, 1525px 714px #FFF, 601px 1524px #FFF, 1711px 1385px #FFF, 1396px 816px #FFF, 1374px 1606px #FFF, 197px 362px #FFF, 1792px 98px #42008D, 1880px 701px #FFF, 540px 1030px #FFF, 1529px 167px #FFF, 187px 1985px #FFF, 901px 1990px #FFF, 1961px 238px #FFF, 49px 1103px #FFF, 1829px 589px #FFF, 1049px 1445px #FFF, 1638px 16px #FFF, 1529px 1758px #26007B, 1065px 417px #7300FF, 1661px 735px #7A00B2, 482px 690px #7300FF, 1077px 64px #7300FF, 159px 1273px #7300FF, 1459px 214px #7300FF, 1029px 680px #7300FF, 1835px 1302px #FFF, 685px 280px #FFF, 1114px 951px #FFF, 1731px 662px #FFF, 715px 76px #FFF, 32px 210px #FFF, 1178px 1716px #FFF, 418px 699px #FFF, 996px 1327px #FFF, 1873px 1557px #FFF, 712px 1281px #FFF, 214px 273px #26007B, 410px 1799px #B6C1DD, 825px 191px #FFF, 478px 106px #FFF, 766px 708px #FFF, 1090px 1533px #FFF, 1684px 1928px #FFF, 30px 612px #FFF, 1658px 1330px #FFF, 1150px 46px #FFF, 21px 39px #FFF, 1836px 376px #FFF, 1066px 977px #FFF, 1408px 358px #FFF, 1924px 1814px #474D70, 1678px 55px #FFF, 260px 816px #FFF, 1185px 453px #FFF, 1962px 588px #FFF, 1378px 304px #FFF, 1524px 583px #FFF, 814px 495px #FFF, 189px 1568px #FFF, 329px 57px #FFF, 79px 1616px #FFF, 1317px 485px #FFF, 1025px 1921px #B6C1DD, 1734px 152px #FFF, 899px 788px #FFF, 1951px 1111px #FFF, 1953px 761px #FFF, 173px 810px #FFF, 1618px 649px #FFF, 876px 1776px #FFF, 1893px 901px #FFF, 1716px 820px #FFF, 631px 213px #FFF, 454px 1728px #42008D, 1099px 488px #FFF, 1885px 973px #FFF, 1405px 511px #FFF, 1288px 1304px #FFF, 1304px 822px #FFF, 722px 486px #FFF, 560px 1603px #FFF, 974px 155px #FFF, 308px 1093px #FFF, 1913px 1px #FFF, 323px 684px #FFF, 6px 537px #FFF, 1191px 994px #FFF, 1455px 1796px #FFF, 88px 1557px #FFF, 1013px 450px #FFF, 31px 524px #FFF, 1513px 1981px #FFF, 1160px 1910px #FFF, 1300px 760px #FFF, 500px 427px #FFF, 1056px 137px #FFF, 1031px 1372px #FFF, 629px 1371px #FFF, 1336px 1625px #FFF, 407px 336px #FFF, 381px 851px #FFF, 61px 1766px #FFF, 1675px 1606px #FFF, 506px 1557px #FFF, 1191px 693px #FFF, 1363px 1717px #FFF, 1569px 847px #FFF, 1559px 226px #FFF, 1016px 1222px #FFF, 1946px 697px #FFF, 666px 1472px #FFF, 963px 1518px #FFF, 470px 111px #FFF, 784px 415px #FFF, 1563px 984px #FFF, 1094px 728px #FFF, 968px 658px #FFF, 1484px 841px #7588B6, 60px 1456px #6200EE, 256px 1056px #FFF, 362px 655px #26007B, 1562px 1663px #000A16, 271px 1323px #26007B, 64px 767px #c900ff, 411px 301px #26007B, 913px 1942px #26007B, 193px 599px #FFF, 1549px 1485px #FFF, 801px 1665px #FFF, 567px 315px #FFF, 1496px 900px #FFF, 1426px 126px #FFF, 1887px 1931px #FFF, 176px 970px #FFF, 1371px 1568px #FFF, 1571px 1228px #FFF, 840px 1457px #FFF, 230px 925px #FFF, 1379px 1357px #26007B, 509px 1863px #FFF, 468px 997px #FFF, 511px 1656px #FFF, 1211px 1074px #FFF, 715px 1352px #FFF, 690px 937px #FFF, 686px 1034px #FFF, 244px 542px #FFF, 1894px 209px #FFF, 1317px 1850px #FFF, 486px 1987px #FFF, 1017px 1590px #FFF, 1020px 542px #FFF, 491px 1785px #FFF, 1885px 1381px #FFF, 1228px 850px #FFF, 1816px 1128px #FFF, 1189px 640px #FFF, 590px 549px #FFF, 682px 843px #FFF, 1894px 222px #FFF, 734px 1592px #FFF, 1303px 1184px #FFF, 816px 729px #FFF, 333px 1589px #FFF, 236px 1576px #FFF, 126px 1604px #FFF, 612px 1006px #FFF, 279px 1116px #FFF, 617px 1678px #FFF, 313px 134px #FFF, 1823px 1771px #FFF, 539px 1482px #FFF, 1855px 590px #FFF, 478px 1275px #FFF, 440px 36px #FFF, 995px 551px #FFF, 399px 1858px #FFF, 1208px 1739px #FFF, 397px 1055px #FFF, 498px 1350px #FFF, 1159px 1080px #FFF, 1173px 868px #7588B6, 1911px 1598px #7300FF, 1954px 471px #7300FF, 1892px 1176px #7300FF, 1756px 1921px #000A16, 1918px 457px #42008D, 411px 146px #7300FF, 1667px 1160px #7300FF, 1132px 1983px #7300FF, 1058px 455px #7300FF, 1572px 391px #42008D, 373px 578px #7300FF, 1150px 731px #7300FF, 1531px 599px #7300FF, 627px 412px #FFF, 781px 270px #FFF, 557px 366px #FFF, 1443px 1464px #FFF, 906px 1010px #FFF, 168px 1044px #FFF, 1692px 463px #FFF, 1758px 359px #FFF, 1611px 817px #FFF, 1024px 1308px #FFF, 913px 1515px #FFF, 1328px 1523px #FFF, 81px 100px #FFF, 1218px 613px #FFF, 1960px 56px #FFF, 1324px 532px #FFF, 1717px 1980px #FFF, 1909px 1887px #FFF, 553px 1280px #FFF, 592px 1156px #FFF, 117px 1894px #FFF, 1239px 1340px #FFF, 101px 169px #FFF, 552px 429px #FFF, 757px 1638px #5E00A0, 1028px 97px #FFF, 1684px 203px #FFF, 1567px 537px #FFF, 5px 1857px #FFF, 408px 171px #FFF, 981px 1855px #FFF, 1540px 1407px #52587C, 1589px 145px #FFF, 1954px 901px #FFF, 1518px 1833px #FFF, 1048px 233px #000A16, 1603px 1040px #FFF, 145px 958px #FFF, 1372px 1054px #FFF, 1008px 1773px #FFF, 788px 1857px #FFF, 89px 18px #FFF, 959px 1016px #FFF, 186px 1917px #FFF, 421px 399px #FFF, 1777px 1113px #FFF, 821px 1124px #FFF, 1598px 977px #FFF, 1723px 1770px #FFF, 1810px 1048px #FFF, 1255px 682px #FFF, 954px 1934px #FFF, 634px 185px #FFF, 1472px 1025px #7588B6, 1708px 888px #FFF, 1877px 1955px #FFF, 1943px 356px #FFF, 209px 899px #FFF, 1566px 1711px #FFF, 461px 1861px #FFF, 117px 918px #FFF, 1600px 261px #FFF, 1729px 700px #FFF, 112px 322px #FFF, 29px 1150px #FFF, 1492px 492px #26007B, 284px 248px #FFF, 41px 1449px #FFF, 298px 1176px #FFF, 1497px 1211px #FFF, 559px 1192px #FFF, 1248px 1427px #FFF, 530px 582px #FFF, 324px 1190px #FFF, 1929px 1148px #FFF, 1982px 1177px #FFF, 1501px 16px #FFF, 1153px 145px #FFF, 1861px 1304px #FFF, 1959px 1823px #FFF, 1049px 1825px #FFF, 1216px 1855px #FFF, 122px 408px #FFF, 1230px 416px #FFF, 1867px 461px #FFF, 1048px 180px #FFF, 1640px 415px #FFF, 486px 37px #FFF, 432px 260px #FFF, 194px 740px #FFF, 755px 1288px #FFF, 1977px 1592px #FFF, 487px 858px #7588B6, 1107px 481px #FFF, 173px 439px #FFF, 1467px 1698px #FFF, 174px 697px #FFF, 920px 1150px #FFF, 1390px 408px #FFF, 122px 1649px #FFF, 1583px 1594px #FFF, 622px 1445px #FFF, 1691px 361px #FFF, 366px 1346px #FFF, 801px 416px #FFF, 1877px 75px #FFF, 201px 1789px #FFF, 1980px 1455px #5E00A0, 866px 817px #FFF, 1447px 771px #FFF, 420px 1972px #FFF, 1416px 58px #FFF, 959px 43px #FFF, 758px 1409px #FFF, 1774px 558px #FFF, 951px 979px #FFF, 846px 1639px #FFF, 625px 174px #FFF, 1830px 893px #FFF, 641px 1869px #FFF, 1020px 299px #FFF, 148px 710px #FFF, 1763px 901px #FFF, 955px 1164px #FFF, 1846px 411px #FFF, 1150px 1469px #FFF, 652px 58px #FFF, 1062px 1852px #FFF, 795px 1952px #002A48, 1400px 192px #FFF, 114px 1200px #FFF, 1140px 1548px #FFF, 1830px 1429px #FFF, 681px 753px #FFF, 1301px 991px #26007B, 1760px 1663px #B6C1DD, 1547px 1529px #26007B, 241px 154px #26007B, 1633px 260px #FFF, 1669px 339px #c900ff, 1348px 897px #52587C, 744px 822px #26007B, 358px 567px #6200EE, 494px 1521px #26007B, 344px 460px #c900ff, 1827px 758px #FFF, 593px 1102px #FFF, 123px 760px #FFF, 261px 780px #FFF, 1147px 99px #FFF, 174px 416px #FFF, 1090px 1909px #FFF, 1255px 755px #FFF, 1370px 245px #FFF, 1501px 1582px #FFF, 1095px 1816px #FFF, 679px 1126px #42008D, 928px 527px #FFF, 1439px 992px #FFF, 1424px 878px #FFF, 1887px 548px #7A00B2, 158px 257px #FFF, 1582px 1650px #FFF, 266px 835px #FFF, 1796px 923px #FFF, 852px 1894px #FFF, 210px 1453px #FFF, 359px 1460px #FFF, 1774px 1696px #FFF, 1355px 1906px #FFF, 1425px 542px #FFF, 217px 884px #FFF, 352px 1409px #FFF, 509px 364px #FFF, 1734px 1548px #FFF, 1643px 1524px #FFF, 494px 785px #FFF, 1500px 411px #FFF, 1101px 675px #FFF, 1959px 108px #FFF, 1429px 332px #FFF, 96px 1165px #FFF, 1597px 716px #FFF, 986px 1434px #FFF, 475px 1379px #FFF, 1675px 1039px #FFF, 17px 1734px #FFF, 1707px 1694px #FFF, 1204px 48px #FFF, 745px 599px #FFF, 886px 922px #FFF, 638px 476px #FFF, 234px 1181px #FFF, 1841px 702px #FFF, 590px 109px #FFF, 390px 964px #FFF, 830px 1698px #FFF, 1315px 1928px #FFF, 1903px 1947px #FFF, 1572px 1803px #FFF, 115px 1788px #FFF, 76px 1517px #FFF, 1311px 1489px #FFF, 1443px 1078px #FFF, 91px 414px #FFF, 225px 628px #FFF, 1562px 1857px #FFF, 162px 551px #FFF, 626px 1889px #FFF, 338px 197px #FFF, 1211px 275px #42008D, 634px 405px #FFF, 797px 87px #FFF, 1279px 512px #FFF, 1229px 358px #FFF, 1901px 1659px #FFF, 123px 1030px #FFF, 639px 1629px #FFF, 200px 1699px #FFF, 1323px 1297px #FFF, 1551px 811px #FFF, 601px 1530px #FFF, 1153px 791px #FFF, 1155px 233px #FFF, 1822px 230px #FFF;
  animation: animStar 300s linear infinite;
}
  /* · · Medium stars · · */
#stars2 {
  width: 2px; height: 2px; background: transparent;
  border-radius: 10px;
  box-shadow: 1305px 1234px #FFF, 1563px 1055px #FFF, 1198px 802px #FFF, 569px 1374px #FFF, 342px 581px #FFF, 588px 1961px #FFF, 712px 398px #FFF, 550px 685px #FFF, 518px 905px #FFF, 1726px 264px #FFF, 1228px 1665px #FFF, 86px 857px #FFF, 270px 1796px #26007B, 1807px 338px #6200EE, 213px 1876px #6200EE, 145px 131px #26007B, 323px 895px #c900ff, 1663px 878px #26007B, 358px 1835px #FFF, 1022px 408px #FFF, 166px 1657px #FFF, 1298px 1568px #FFF, 1022px 883px #FFF, 1632px 665px #FFF, 1441px 1262px #FFF, 406px 47px #FFF, 1341px 1412px #FFF, 1440px 715px #FFF, 1483px 1869px #FFF, 1607px 1946px #FFF, 1202px 525px #FFF, 1726px 581px #FFF, 1097px 1720px #FFF, 528px 517px #FFF, 722px 632px #FFF, 359px 1475px #FFF, 390px 1471px #FFF, 1790px 1999px #FFF, 401px 835px #FFF, 1370px 962px #FFF, 119px 1690px #FFF, 1027px 935px #FFF, 479px 1468px #FFF, 1476px 1020px #FFF, 1830px 1667px #FFF, 999px 739px #FFF, 289px 20px #FFF, 1627px 483px #1ACDD1, 1427px 1850px #FFF, 1021px 759px #FFF, 490px 1259px #FFF, 1567px 510px #FFF, 282px 1928px #FFF, 1966px 875px #FFF, 1355px 720px #FFF, 793px 1897px #FFF, 1039px 836px #FFF, 1377px 457px #FFF, 1042px 997px #FFF, 1160px 1417px #FFF, 987px 1148px #FFF, 771px 1799px #FFF, 1829px 1696px #FFF, 507px 1923px #FFF, 258px 981px #FFF, 1922px 633px #FFF, 118px 1070px #FFF, 774px 331px #FFF, 435px 1943px #FFF, 1069px 1173px #FFF, 671px 1294px #FFF, 412px 650px #FFF, 777px 556px #FFF, 1549px 1585px #FFF, 595px 703px #FFF, 787px 1913px #FFF, 1090px 1061px #FFF, 1394px 51px #FFF, 1211px 1898px #FFF, 888px 1791px #FFF, 852px 1611px #FFF, 369px 1720px #7300FF, 1641px 566px #7300FF, 140px 50px #7300FF, 601px 612px #7300FF, 567px 161px #7300FF, 1857px 894px #7300FF, 1502px 872px #ee22ff, 1778px 176px #7300FF, 394px 243px #7300FF, 1596px 1446px #ee22ff, 684px 428px #7300FF, 46px 336px #1ACDD1, 56px 1294px #7300FF, 915px 315px #7300FF, 1735px 512px #1ACDD1, 1403px 1685px #FFF, 450px 441px #FFF, 677px 1514px #FFF, 959px 361px #FFF, 1425px 909px #FFF, 382px 517px #FFF, 1318px 1230px #FFF, 1825px 1601px #FFF, 1605px 382px #FFF, 209px 278px #FFF, 1134px 1712px #FFF, 338px 1026px #FFF, 50px 151px #FFF, 870px 1399px #FFF, 1546px 1136px #FFF, 1242px 981px #FFF, 705px 1447px #FFF, 793px 353px #FFF, 1681px 1052px #FFF, 674px 1243px #FFF, 338px 792px #FFF, 736px 865px #FFF, 1263px 1884px #ee22ff, 1274px 1439px #FFF, 41px 1645px #FFF, 1848px 777px #FFF, 993px 1688px #FFF, 386px 1312px #FFF, 1366px 1450px #FFF, 827px 956px #FFF, 852px 773px #FFF, 1580px 1493px #FFF, 941px 726px #FFF, 261px 379px #FFF, 189px 175px #FFF, 43px 1956px #FFF, 473px 1833px #FFF, 1770px 746px #FFF, 1772px 1014px #FFF, 1269px 1115px #FFF, 619px 774px #FFF, 437px 1415px #FFF, 1640px 270px #FFF, 89px 1825px #FFF, 803px 307px #FFF, 76px 1649px #FFF, 624px 1597px #FFF, 302px 1489px #26007B, 1568px 1458px #26007B, 848px 1184px #c900ff, 562px 1944px #6200EE, 1547px 2px #c900ff, 1844px 1345px #6200EE, 928px 1831px #26007B, 1880px 1889px #26007B, 729px 216px #26007B, 1233px 19px #FFF, 1305px 1965px #FFF, 864px 1471px #FFF, 38px 470px #FFF, 1251px 248px #FFF, 470px 1168px #FFF, 1294px 714px #FFF, 520px 836px #FFF, 20px 934px #FFF, 10px 1481px #FFF, 726px 583px #FFF, 471px 929px #FFF, 971px 1790px #7300FF, 1567px 345px #7300FF, 951px 1298px #7300FF, 639px 456px #7300FF, 567px 1825px #7300FF, 659px 1092px #FFF, 1815px 32px #FFF, 1217px 1741px #FFF, 1284px 1375px #FFF, 223px 1720px #FFF, 1533px 671px #FFF, 300px 1760px #FFF, 672px 971px #FFF, 1301px 1710px #FFF, 1025px 475px #FFF, 86px 823px #FFF, 590px 26px #FFF, 165px 1228px #FFF, 1449px 9px #FFF, 1408px 1026px #FFF, 1335px 202px #FFF, 1242px 715px #FFF, 1075px 1761px #FFF, 1838px 570px #FFF, 273px 180px #FFF, 942px 1373px #FFF, 1473px 309px #FFF, 47px 806px #FFF, 1177px 1678px #FFF, 744px 1366px #FFF, 1785px 496px #FFF, 1652px 526px #FFF, 50px 1399px #FFF, 1106px 1018px #FFF, 1867px 649px #FFF, 219px 1234px #FFF, 1621px 1227px #0A0068, 1787px 671px #42008D, 1595px 1971px #474D70, 1162px 756px #42008D, 956px 393px #52587C, 1839px 494px #002A48, 59px 595px #5E00A0, 310px 1717px #7A00B2, 1140px 316px #26007B, 1656px 1108px #B6C1DD, 1425px 1173px #000A16, 756px 1253px #42008D, 876px 350px #42008D, 736px 206px #6200EE, 477px 600px #5E00A0, 881px 591px #52587C, 1393px 783px #52587C, 840px 44px #7300FF, 152px 92px #26007B, 1581px 1190px #c900ff, 338px 1909px #7588B6, 630px 1714px #474D70, 1605px 1573px #26007B, 1242px 828px #002A48;
  animation: animStar 350s linear infinite;
}
#stars2::after {
  content: ""; position: absolute; top: 2000px;
  width: 2px; height: 2px; background: transparent;
  border-radius: 10px;
  box-shadow: 46px 774px #FFF, 872px 683px #FFF, 1139px 742px #FFF, 1996px 1057px #FFF, 846px 212px #FFF, 733px 1412px #FFF, 915px 963px #FFF, 10px 71px #FFF, 946px 931px #FFF, 1355px 1093px #FFF, 1311px 102px #FFF, 673px 1938px #FFF, 1559px 1206px #FFF, 544px 794px #FFF, 1369px 1474px #FFF, 1043px 1159px #FFF, 536px 1252px #26007B, 216px 348px #6200EE, 148px 1927px #26007B, 918px 133px #c900ff, 886px 703px #26007B, 1836px 1335px #26007B, 1826px 1087px #7300FF, 963px 1545px #7300FF, 343px 1776px #7300FF, 303px 1859px #7300FF, 1286px 369px #7300FF, 742px 1467px #7300FF, 447px 1225px #7300FF, 1495px 78px #7300FF, 461px 1427px #7300FF, 1656px 199px #7300FF, 558px 848px #7300FF, 219px 1154px #7300FF, 526px 1356px #7300FF, 370px 467px #7300FF, 1997px 333px #7300FF, 1254px 532px #FFF, 993px 1079px #FFF, 1695px 1272px #FFF, 794px 1199px #FFF, 1215px 512px #FFF, 1935px 749px #FFF, 93px 1987px #FFF, 1116px 897px #FFF, 455px 579px #FFF, 1762px 1808px #FFF, 1452px 1927px #FFF, 672px 120px #ee22ff, 138px 182px #FFF, 1296px 653px #ee22ff, 1924px 1434px #FFF, 586px 1787px #FFF, 1991px 642px #FFF, 172px 1136px #FFF, 700px 798px #ee22ff, 1609px 1350px #FFF, 923px 347px #FFF, 1226px 1207px #FFF, 1470px 620px #ee22ff, 299px 560px #ee22ff, 117px 283px #ee22ff, 938px 611px #FFF, 389px 1228px #FFF, 1012px 1548px #FFF, 1010px 1974px #FFF, 1115px 1904px #FFF, 453px 1070px #FFF, 1412px 1861px #FFF, 1395px 114px #FFF, 1183px 1228px #FFF, 432px 1315px #FFF, 1307px 125px #FFF, 472px 1533px #FFF, 567px 984px #FFF, 1965px 1050px #FFF, 168px 47px #FFF, 652px 1805px #FFF, 1329px 247px #FFF, 1929px 1271px #FFF, 438px 1513px #FFF, 259px 1425px #FFF, 940px 1264px #FFF, 1495px 301px #FFF, 1776px 304px #FFF, 1377px 1900px #FFF, 1371px 715px #FFF, 370px 1520px #FFF, 773px 952px #FFF, 253px 210px #FFF, 705px 1565px #FFF, 974px 1971px #FFF, 1483px 319px #FFF, 1611px 1389px #FFF, 1842px 278px #FFF, 307px 1656px #FFF, 323px 123px #FFF, 1921px 397px #FFF, 1287px 1678px #FFF, 1064px 1413px #FFF, 794px 458px #FFF, 972px 505px #FFF, 1041px 1702px #FFF, 1953px 1699px #FFF, 783px 93px #FFF, 685px 4px #FFF, 936px 1730px #FFF, 1622px 1728px #FFF, 1510px 1640px #FFF, 171px 69px #FFF, 1255px 1507px #FFF, 1210px 1142px #FFF, 1076px 1580px #FFF, 761px 1690px #FFF, 1127px 1884px #FFF, 1992px 1853px #FFF, 1076px 336px #FFF, 1451px 1565px #FFF, 1230px 141px #FFF, 475px 1601px #FFF, 1953px 812px #FFF, 936px 861px #FFF, 880px 1481px #FFF, 711px 1999px #FFF, 362px 963px #FFF, 381px 902px #FFF, 426px 765px #FFF, 163px 681px #FFF, 148px 437px #FFF, 1049px 1051px #FFF, 1981px 20px #ee22ff, 1611px 846px #7300FF, 1265px 165px #7300FF, 77px 518px #7300FF, 1004px 1659px #7300FF, 423px 1366px #7300FF, 1251px 57px #7300FF, 1751px 373px #7300FF, 977px 1416px #7300FF, 275px 404px #7300FF, 564px 673px #7300FF, 656px 1949px #7300FF, 1656px 1401px #7300FF, 257px 1314px #26007B, 1775px 1772px #26007B, 857px 172px #6200EE, 1182px 1547px #c900ff, 507px 101px #FFF, 932px 12px #FFF, 1962px 1741px #FFF, 1727px 1871px #FFF, 357px 290px #FFF, 1762px 1540px #FFF, 859px 854px #FFF, 1086px 1453px #FFF, 96px 1106px #FFF, 666px 1759px #FFF, 1052px 136px #FFF, 1781px 58px #FFF, 1639px 1821px #FFF, 295px 1444px #FFF, 680px 912px #FFF, 1626px 1854px #FFF, 1096px 812px #FFF, 516px 401px #FFF, 220px 1477px #FFF, 1127px 1373px #FFF, 1337px 1681px #FFF, 1246px 1010px #FFF, 1148px 1808px #FFF, 354px 1214px #FFF, 746px 929px #FFF, 1231px 1123px #FFF, 811px 1247px #FFF, 51px 393px #FFF, 1818px 1561px #FFF, 528px 1991px #FFF, 1732px 1683px #FFF, 164px 1525px #FFF, 452px 536px #FFF, 1673px 1948px #FFF, 1118px 1339px #FFF, 443px 667px #FFF, 672px 23px #FFF, 1770px 1385px #FFF, 1553px 62px #FFF, 118px 1227px #FFF, 766px 1140px #FFF, 1904px 1164px #FFF, 1980px 1384px #FFF, 1355px 1975px #FFF, 806px 1825px #FFF, 297px 1989px #FFF, 1826px 1162px #FFF, 1442px 83px #FFF, 33px 1040px #FFF, 1441px 1681px #FFF, 683px 1007px #FFF, 496px 223px #FFF, 1119px 1315px #FFF;
  animation: animStar 350s linear infinite;
}
  /* · · Big stars · · */
#stars3 {
  width: 3px; height: 3px; background: transparent;
  border-radius: 15px;
  box-shadow: 1259px 1978px #FF0070, 243px 1939px #FFF, 980px 697px #FFF, 545px 1464px #FFF, 33px 690px #FFF, 1330px 20px #FFF, 1399px 1791px #FFF, 602px 1285px #FFF, 69px 985px #FFF, 45px 1794px #FFF, 352px 43px #FF0070, 1351px 308px #7300FF, 644px 610px #7300FF, 1932px 1338px #7300FF, 142px 611px #ee22ff, 1955px 1484px #ee22ff, 1130px 1162px #7300FF, 1536px 715px #7300FF, 787px 1167px #7300FF, 866px 475px #26007B, 564px 36px #6200EE, 520px 1074px #26007B, 304px 765px #26007B, 1750px 877px #FFF, 808px 1542px #FFF, 1044px 9px #FFF, 720px 1858px #FFF, 695px 560px #FFF, 818px 889px #FFF, 1296px 320px #FFF, 582px 821px #FFF, 1081px 775px #FFF, 1892px 38px #FF0070, 1259px 1572px #FFF, 1223px 1305px #FFF, 311px 1300px #FFF, 536px 1093px #FFF, 1403px 603px #FFF, 1174px 1047px #FFF, 1074px 1948px #FFF, 907px 475px #FFF, 34px 305px #FFF, 1507px 1185px #FFF, 1163px 57px #FFF, 11px 1165px #FFF, 1850px 1426px #FFF, 388px 629px #FFF, 539px 899px #FFF, 1511px 963px #FFF, 1165px 545px #FFF, 140px 493px #FFF, 1482px 1083px #FFF, 448px 510px #FFF, 309px 610px #FFF, 818px 530px #FFF, 99px 1093px #FFF, 676px 366px #FFF, 732px 1115px #FFF, 1182px 1360px #FFF, 1631px 1125px #FFF, 222px 1990px #FFF, 23px 968px #ee22ff, 996px 1249px #FFF;
  animation: animStar 400s linear infinite;
}
#stars3::after {
  content: ""; position: absolute; top: 2000px;
  width: 3px; height: 3px; background: transparent;
  border-radius: 20px;
  box-shadow: 1012px 1155px #FFF, 771px 1534px #7300FF, 1491px 1361px #7300FF, 553px 81px #7300FF, 1860px 823px #7300FF, 807px 766px #ee22ff, 885px 1332px #FFF, 899px 820px #FFF, 1126px 673px #FFF, 990px 832px #FFF, 228px 1651px #FFF, 1148px 265px #FFF, 1506px 1312px #FFF, 916px 1753px #ee22ff, 1129px 1240px #1ACDD1, 1979px 1240px #FFF, 1899px 1413px #FFF, 566px 1772px #FFF, 1649px 1453px #FFF, 1084px 196px #ee22ff, 927px 1891px #FFF, 944px 414px #FFF, 257px 634px #FFF, 1122px 1065px #FFF, 1659px 1227px #FFF, 545px 1893px #26007B, 1916px 261px #26007B, 1871px 272px #6200EE, 1180px 608px #26007B, 580px 853px #26007B, 1789px 1848px #26007B, 465px 1789px #26007B, 1558px 767px #FFF, 392px 1373px #FFF, 1428px 1312px #FFF, 507px 1791px #FFF, 1614px 628px #FFF, 214px 1582px #FFF, 1909px 1237px #FFF, 78px 221px #FFF, 948px 103px #FFF, 1074px 904px #FFF, 67px 443px #FFF, 205px 1809px #FFF, 1740px 150px #FFF, 1882px 1715px #FFF, 1737px 259px #FFF, 1497px 1759px #FFF, 1678px 944px #FFF, 1961px 707px #FFF, 658px 1568px #FFF, 649px 1205px #FFF, 1537px 1285px #FFF, 923px 645px #FFF, 838px 1594px #7300FF, 1366px 985px #7300FF, 1696px 1170px #7300FF, 1317px 1179px #7300FF, 1399px 857px #7300FF, 1918px 930px #ee22ff, 697px 951px #7300FF, 319px 236px #7300FF, 157px 475px #FFF, 1859px 1047px #ee22ff, 1730px 543px #FFF, 553px 252px #FFF, 627px 67px #FFF, 1208px 1437px #FFF, 736px 1838px #FFF, 612px 1810px #ee22ff, 1913px 1049px #ee22ff, 1837px 200px #ee22ff, 1996px 409px #ee22ff, 630px 496px #ee22ff, 1653px 1726px #FFF, 1273px 1010px #FFF, 1198px 419px #FFF, 1596px 1758px #FFF, 405px 765px #1ACDD1, 1184px 1495px #FFF, 1760px 429px #6200EE, 1981px 1674px #26007B, 1693px 783px #FFF, 1258px 168px #FFF, 1765px 31px #FFF, 1229px 431px #FFF, 1047px 1359px #FFF, 1783px 995px #FFF, 845px 114px #FFF, 1351px 677px #FFF, 59px 1913px #FFF, 1433px 1345px #FFF, 1864px 1815px #FFF, 49px 1578px #FFF, 301px 1046px #FFF, 1815px 655px #FFF, 335px 334px #FFF, 1038px 701px #FFF, 212px 98px #FFF, 1866px 1126px #FFF;
  animation: animStar 400s linear infinite;
}
@keyframes animStar {
  from { transform: translateY(0px); }
  to   { transform: translateY(-2000px); }
}
  /* · · Hide/remove old background layers so the new one is visible · · */
#background-container, #background-gradient, .orb, #orb-1, #orb-2, #orb-3 {
  display: none !important;
}
#usernameInput {font-size: 16px !important;}
  /* · · Ownership: centering + width sanity (mobile-safe) · · */
body:not([data-page="rosters"]) { overflow-x: hidden !important; }
body[data-page="rosters"] { overflow-x: auto !important; }
main#content { align-items: stretch !important; }
#playerListView {
  width: 100% !important;
  max-width: 700px !important;
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: 6px !important;
  padding-right: 6px !important;
  box-sizing: border-box !important;
}
#playerSearch {
  width: 100% !important;
  box-sizing: border-box !important;
}
  
.panel {
  margin: 0.45rem auto;
  padding: 0.75rem 0.85rem;
  border: 1px solid var(--color-panel-border);
  border-radius: 10px;
  background: linear-gradient(to bottom, rgba(0,0,0,0.02), rgba(0,0,0,0.10));
  -webkit-backdrop-filter: blur(4px) saturate(110%);
  backdrop-filter: blur(4px) saturate(110%);
  box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
  max-width: 720px;
}
.panel-title {
  margin: 0 0 0.5rem 0;
  font-size: 0.95rem;
  font-weight: 800;
  letter-spacing: .6px;
  text-transform: uppercase;
  color: var(--color-text-primary);
  text-align: center;
}
.install-details summary {
  cursor: pointer;
  font-weight: 700;
  color: var(--color-text-secondary);
  margin-bottom: 0.4rem;
}
.install-columns {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.6rem;
}
@media (min-width: 720px) {
  .install-columns {
    grid-template-columns: 1fr 1fr;
  }
}
.install-card h4 {
  margin: 0 0 0.25rem 0;
  font-size: 0.9rem;
  color: var(--color-text-primary);
}
.install-card ol {
  margin: 0 0 0.25rem 1.1rem;
}
.install-card .hint {
  margin: 0.15rem 0 0 0;
  font-size: 0.8rem;
  color: var(--color-text-tertiary);
}
  /* · · Hotfix: Legend container and visibility · · */
#legend-section {
  display:block;
  width:100%;
  max-width: var(--welcome-width, 720px);
  margin-left:auto; margin-right:auto;
}
.hidden { display:none; }
  /* · · Force-hide utility with higher precedence · · */
.hidden{display:none !important;}
#legend-section.hidden{display:none !important;}
  /* · · CSS-only legend gating · · */
#legend-section { display:none !important; }               /* default hidden */
#welcome-screen:not(.hidden) ~ #legend-section {
  display:block !important;                                /* show only when Welcome visible */
}
  /* · · LEGEND CARD — INDIVIDUAL CONTROLS (no vars) · · */
#legend-section .panel-title{
  font-size: 0.95rem !important;
  font-weight: 800 !important;
  letter-spacing: .6px !important;
  color: #EAEBF0 !important;
}
#rosterPlayerCardKey.legend-card {
    padding: 0.70rem .8rem !important;
    background-color: rgba(13, 14, 35, 0.21);
       background-image: linear-gradient(rgba(255,255,255, 0.03), rgba(255,255,255, 0.03));
        -webkit-backdrop-filter: blur(0px) saturate(120%) brightness(120%);
        backdrop-filter: blur(0px) saturate(120%) brightness(120%);
        box-shadow: inset 0 0 0 0px rgba(255,255,255, 0.05), inset 0 0 0 4px rgba(200,200,200, 0.025), 0 10px 26px rgba(0,0,0, var(--outerA, .22));
        /* · · Frame · · */
        border: 1px solid rgba(128, 138, 189, 0.2);
        border-radius: 10px;
        box-shadow: rgba(255, 255, 255, 0.05) 0px 0px 0px 0px inset, rgba(200, 200, 200, 0.025) 0px 0px 0px 4px inset, rgba(0, 0, 0, 0.22) 0px 10px 26px 0px;
}
  /* · · Top row · · */
#rosterPlayerCardKey .player-tag.legend-pos{
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 0.9rem !important;
  font-weight: 400 !important;
  color: #EAEBF0 !important;
  padding: 0.4rem 0.55rem !important;   /* ← edit these to resize the POS chip */
  border-radius: 6px !important;
  line-height: 1.05 !important;
  letter-spacing: .45px !important;
}
#rosterPlayerCardKey .legend-name{
  font-size: 1.1rem !important;
  font-weight: 400 !important;
  letter-spacing: .1px !important;
  color: #c6b3ff !important;
    margin-left: 0.5rem
}
  /* · · Row gaps · · */
#rosterPlayerCardKey .legend-main{
  display: flex !important;      /* keep layout */
  align-items: center !important;
  gap: 0.75rem !important;        /* POS ↔ Name gap (edit) */
  margin-bottom: 0.9rem !important; /* gap to meta row (edit) */
}
  /* · · Meta row · · */
#rosterPlayerCardKey .legend-meta{
  display: flex !important;
  align-items: center !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: #9096C0 !important;
  margin-bottom: 0.9rem !important; /* gap to bottom row (edit) */
  line-height: 1.2 !important;
}
#rosterPlayerCardKey .legend-pos-rank{
  color: #FF3A75CA !important;
  font-weight: 400 !important;
  text-align: center !important;
  font-size: 0.8rem !important;
  line-height: 1.2 !important;
}
#rosterPlayerCardKey .legend-age{
  color: #766DFF !important;
  font-weight: 700 !important;
  font-size: 1rem !important;
  line-height: 1.2 !important;
}
  /* · · If your separators are elements with .separator, control them here: · · */
#rosterPlayerCardKey .legend-meta .separator{
  color: #9096C0 !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
  line-height: 1 !important;
}
#rosterPlayerCardKey .legend-age {
font-size: .95rem !important;
font-weight: 500 !important;
}
  /* · · Team chip (resize independent of POS chip) · · */
#rosterPlayerCardKey .legend-team{
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 0.9rem !important;
  font-weight: 400 !important;
  color: #EAEBF0 !important;
  padding: 0.4rem 0.55rem !important;   /* ← edit these to resize the TEAM chip */
  border-radius: 6px !important;
  line-height: 1.1 !important;
  white-space: nowrap !important;
}
  /* · · Bottom row container (controls bar height via first padding value) · · */
#rosterPlayerCardKey .legend-bottom-bg{
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  width: 100% !important;
  padding: 0.85rem 0.85rem !important;   /* ← edit: vertical horizontal */
  box-sizing: border-box !important;
}
  /* · · Bottom row labels and values · · */
#rosterPlayerCardKey .kv-right{
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.35rem !important;               /* label ↔ value gap (edit) */
  color: #9096C0 !important;
  font-weight: 700 !important;
  letter-spacing: .2px !important;
}
#rosterPlayerCardKey .kv-left{
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.35rem !important;
  color: #9096C0 !important;
  font-weight: 700 !important;
  letter-spacing: .2px !important;
  font-size: 1rem !important;            /* explicit since base didn’t define it */
}
#rosterPlayerCardKey .kv-left .value,
#rosterPlayerCardKey .kv-right .value{
  font-size: 1rem !important;            /* numeric size (edit) */
  font-weight: 800 !important;
  line-height: 1.15 !important;
}
#rosterPlayerCardKey .legend-ktc{ color: #00EBC7 !important; }
#rosterPlayerCardKey .legend-adp{ color: #58A7FF !important; }
#rosterPlayerCardKey .legend-ppg{ color: #58A7FF !important; }
  /* · · Footnote · · */
#rosterCardFootnote.legend-footnote{
  font-size: 0.74rem !important;
  color: #5F6795 !important;
}
  /* · · Welcome-only logo + padding (surgical) · · */
#welcome-screen { padding-top: 0.3rem !important; padding-bottom: 0.25rem !important; }
#welcome-screen h1, #welcome-screen h2, #welcome-screen h3 {margin-bottom: 0.05rem !important;margin-top: -0.5rem;}
#welcome-screen .welcome-logo {
  /* Default size can be overridden by setting --welcome-logo-size on the #welcome-screen or via a global rule. Value can be px, %, vw, or a clamp expression. Percentage values are relative to the containing block. */
  --welcome-logo-size: clamp(72px, 24vw, 128px);
  display: block;
  margin: 0 auto -1rem;
  width: var(--welcome-logo-size);
  height: auto;
  position: relative;
  z-index: 0;
}
#welcome-screen .welcome-logo img {
  display:block; width:100%; height:auto; position:relative; z-index:1;
     -webkit-mask-image: radial-gradient(circle at 52% 51%, rgba(0,0,0,0.81) 40%, rgba(0,0,0,0) 99%);
    mask-image: radial-gradient(circle at 52% 51%, rgba(0,0,0,0.81) 40%, rgba(0,0,0,0) 99%);
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    filter: drop-shadow(3px 2px 2px #5900ffed) drop-shadow(0px 0px 16px #7300ff58);
    }
#welcome-screen .welcome-logo::after {
  content:""; position:absolute; inset:-4px; border-radius:14px; pointer-events:none; z-index:0;
}
  /* · · Welcome logo gradient glow (safe, no size changes) · · */
#welcome-screen .welcome-logo { position: relative; }
#welcome-screen .welcome-logo img { position: relative; z-index: 1; }
#welcome-screen .welcome-logo::before {
  content: "";
  position: absolute;
  top: 53%; left: 50%;
  transform: translate(-50%, -50%);
  width: 165%; height: 90%;
  background:  radial-gradient(circle at 50% 50%, #5300FF36 0%, #5500ff12 30%, #5500ff04 100%, transparent 100%);
  filter: blur(10px);
  border-radius: 50%;
  z-index: 0;
  pointer-events: none;
}
  /* · · Keep footnote centered space without making the container larger · · */
  /* · · Equalize space above/below the footnote so it sits between the install panel and card bottom · · */
.install-footnote {
  margin: 0.25rem 0 0.25rem 0 !important; /* equal margins, small total */
}
  /* · · Center the footnote between the collapsed install panel and the bottom of the card · · */
.install-footnote {
  text-align: center;
  font-size: 0.74rem;
  color: var(--color-text-tertiary, #5F6795);
  margin-top: 0.42rem;
  margin-bottom: 0.42rem;
  line-height: 1.1;
}
/* ⬇︎ MENU BUTTON AND DROPDOWN ⬇︎ */
.menu-container {
    position: relative;
    display: inline-block;
}
.menu-button {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0.25rem 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
}
.menu-button svg {
    fill: var(--color-text-secondary);
}
.menu-button:hover svg {
    fill: var(--color-text-primary);
}
.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background-color: rgba(11, 15, 28, 0.94);
    border: 1px solid var(--color-panel-border);
    border-radius: var(--card-border-radius);
    padding: 0.4rem 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    z-index: 20;
    min-width: 210px;
    box-shadow: 0 12px 32px rgba(5, 7, 15, 0.5);
    backdrop-filter: blur(8px) saturate(130%);
}
.dropdown-menu a {
    color: var(--color-text-secondary);
    text-decoration: none;
    padding: 0.35rem 0.55rem;
    border-radius: var(--card-border-radius);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
    white-space: nowrap;
}
.dropdown-menu a i {
    color: inherit;
    font-size: 1.05rem;
    min-width: 1.1rem;
    text-align: center;
}
.dropdown-menu a:hover {
    background-color: var(--color-panel-bg);
    color: var(--color-text-primary);
}
.dropdown-menu.hidden {
    display: none;
}
#filters-row {
    justify-content: space-around;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: nowrap;
}
.filters-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: 2px;
}

@media (max-width: 640px) {
    .filters-container {
        position: relative;
    }
    .compare-controls {
        position: static;
    }
    .compare-search-popover {
        top: 83%;
        left: 50%;
        right: auto;
        margin-top: 0;
        width: min(92vw, 320px);
        transform: translate(-50%, -56%);
    }
    .compare-search-popover:not(.hidden) {
        transform: translate(-50%, -50%);
    }
}
#clearFiltersButton .clear-filters-label {
    display: block;
    margin-top: 2px;
    font-size: 0.5rem;
    font-weight: 500;
    line-height: 1;
}
.team-header-item .team-name {
    min-width: 0;
    max-width: 100%;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: center;
    justify-self: center;
}
.team-header-item .team-record {
    font-size: 0.58rem;
    color: #9ea5d8;
    white-space: nowrap;
    justify-self: start;
}
#analyzeLeagueButton {
    padding: 0rem 0.6rem;
    font-size: 1.1rem;
    font-weight: 500;
    border: 1px solid #cfafcf8a;
    background: linear-gradient(to bottom, rgba(0,0,0,0.02), rgba(0,0,0,0.2))!important;
    box-shadow: 0 0 9px #eeddff65;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
    color: #d1b1d1aa;
}
/* · · Anlz.Lg button · · */
body[data-page="rosters"] #secondary-header-row #analyzeLeagueButton {
    padding: 0;
    border: none;
    background: transparent !important;
    box-shadow: none;
    }
#analyzeLeagueButton {
  color: #9096C0;
  margin-top: 2px;
}
#analyzeLeagueButton i {
  filter:
    drop-shadow(0px 0px 2px  #cfafcf69);
    }
body[data-page="rosters"] #secondary-header-row #analyzeLeagueButton.glow-on-select,
body[data-page="rosters"] #secondary-header-row #analyzeLeagueButton.active {
    box-shadow: none;
    background: transparent;
    border: none;
    color: var(--color-text-primary);
}
/* · · League Analyzer Button · · */
    #analyzeLeagueButton .analyzer-label{
        margin-top: 1px !important;
    }
    #analyzeLeagueButton .analyzer-icon{
        font-size: 1.3rem !important;
        margin-top: 5px !important;
}
  /* · · Global page footnote (bottom of page) · · */
    .page-footnote{
      text-align:center;
      font-size: 0.74rem;
      color: var(--color-text-tertiary, #5F6795);
      line-height: 1.2;
      padding: 0.5rem 0 0.75rem 0;
      margin-top: 0.75rem;
      padding-bottom: 2rem;
  }
    /* · · Desktop-only brightness/contrast boost · · */
      body::before{
          content: "";
          position: fixed;
          inset: 0;
          pointer-events: none;
          z-index: 9999;
          -webkit-backdrop-filter: brightness(115%) contrast(104%) saturate(105%);
          backdrop-filter:         brightness(115%) contrast(104%) saturate(105%);
    }
    /* · · Mobile override · · */
    @media (hover: none) and (pointer: coarse){
      body::before{
              -webkit-backdrop-filter: brightness(130%) contrast(106%) saturate(108%);
               backdrop-filter:         brightness(130%) contrast(106%) saturate(108%);
    }
 }
#legend-section {
            background: var(--color-panel-bg);
            border: 1px solid var(--color-panel-border);
            border-radius: var(--panel-border-radius);
            backdrop-filter: blur(3px);
            -webkit-backdrop-filter: blur(3px);
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
}
/* ⬇︎ GM LOG MODAL ⬇︎ */
    #game-logs-modal, #player-comparison-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.2s ease-in-out;
    }
    #game-logs-modal.hidden {
      display: none;
    }
    .modal-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
    }
    .modal-content {
      position: relative;
      z-index: 101;
      padding: 0.65rem 0.85rem 0.25rem 0.85rem;
      border-radius: var(--panel-border-radius);
      max-width: 90%;
      width: 686px;
      max-height: 90vh;
      transform: scale(0.95);
      opacity: 0;
      transition: transform 0.2s ease-in-out, opacity 0.2s ease-in-out;
    }
    #game-logs-modal:not(.hidden) .modal-content, #player-comparison-modal:not(.hidden) .modal-content {
        transform: scale(1);
        opacity: 1;
        height: 600px;
    }
    .modal-close-btn {
      position: absolute;
      top: 0rem;
      right: 0.45rem;
      background: none;
      border: none;
      font-size: 2.2rem;
      line-height: 1;
      color: var(--color-text-secondary);
      cursor: pointer;
      transition: color 0.2s ease;
    }
    .modal-close-btn:hover {
      color: var(--color-text-primary);
    }
    .modal-header-left-container {
        position: absolute;
        top: 0.70rem;
        left: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
/* · · Team Logo Chips · · */
    .modal-team-logo-chip {
        padding: 2px 7px;
        background: rgba(255, 255, 255, 0.005);
        backdrop-filter: blur(1px) saturate(180%);
        border: 1px solid rgba(250, 250, 250, 0.12);
        border-radius: 1rem;
        box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2), inset 0 4px 20px rgba(255, 255, 255, 0.05);
        display: flex;
        align-items: center;
        justify-content: center;
    }
  .modal-team-logo-chip[data-team="ARI"] { box-shadow: inset 0 0 10px rgba(151, 35, 63, 0.18); }
    .modal-team-logo-chip[data-team="ATL"] { box-shadow: inset 0 0 10px rgba(167, 25, 48, 0.16); }
    .modal-team-logo-chip[data-team="BAL"] { box-shadow: inset 0 0 10px rgba(158, 43, 246, 0.2); }
    .modal-team-logo-chip[data-team="BUF"] { box-shadow: inset 0 0 10px rgba(198, 12, 48, 0.14); }
    .modal-team-logo-chip[data-team="CAR"] { box-shadow: inset 0 0 10px rgba(0, 133, 202, 0.22); }
    .modal-team-logo-chip[data-team="CHI"] { box-shadow: inset 0 0 10px rgba(120, 90, 240, 0.15); }
    .modal-team-logo-chip[data-team="CIN"] { box-shadow: inset 0 0 10px rgba(251, 79, 20, 0.13); }
    .modal-team-logo-chip[data-team="CLE"] { box-shadow: inset 0 0 10px rgba(49, 29, 0, 0.22); }
    .modal-team-logo-chip[data-team="DAL"] { box-shadow: inset 0 0 10px rgba(134, 147, 151, 0.17); }
    .modal-team-logo-chip[data-team="DEN"] { box-shadow: inset 0 0 10px rgba(251, 79, 20, 0.12); }
    .modal-team-logo-chip[data-team="DET"] { box-shadow: inset 0 0 10px rgba(0, 183, 235, 0.12); }
    .modal-team-logo-chip[data-team="GB"] { box-shadow: inset 0 0 10px rgba(30, 205, 120, 0.12); }
    .modal-team-logo-chip[data-team="HOU"] { box-shadow: inset 0 0 10px rgba(167, 25, 48, 0.15); }
    .modal-team-logo-chip[data-team="IND"] { box-shadow: inset 0 0 10px rgba(0, 44, 95, 0.22); }
    .modal-team-logo-chip[data-team="JAX"] { box-shadow: inset 0 0 10px rgba(0, 103, 120, 0.18); }
    .modal-team-logo-chip[data-team="KC"] { box-shadow: inset 0 0 10px rgba(227, 24, 55, 0.13); }
    .modal-team-logo-chip[data-team="LAC"] { box-shadow: inset 0 0 10px rgba(0, 128, 198, 0.14); }
    .modal-team-logo-chip[data-team="LAR"] { box-shadow: inset 0 0 10px rgba(0, 91, 200, 0.19); }
    .modal-team-logo-chip[data-team="LV"]  { box-shadow: inset 0 0 10px rgba(165, 172, 175, 0.14); }
    .modal-team-logo-chip[data-team="MIA"] { box-shadow: inset 0 0 10px rgba(0, 142, 151, 0.17); }
    .modal-team-logo-chip[data-team="MIN"] { box-shadow: inset 0 0 10px rgba(115, 0, 255, 0.19); }
    .modal-team-logo-chip[data-team="NE"]  { box-shadow: inset 0 0 10px rgba(255, 56, 95, 0.14); }
    .modal-team-logo-chip[data-team="NO"]  { box-shadow: inset 0 0 10px rgba(160, 148, 101, 0.19); }
    .modal-team-logo-chip[data-team="NYG"] { box-shadow: inset 0 0 10px rgba(55, 56, 200, 0.16); }
    .modal-team-logo-chip[data-team="NYJ"] { box-shadow: inset 0 0 10px rgba(64, 160, 120, 0.16); }
    .modal-team-logo-chip[data-team="PHI"] { box-shadow: inset 0 0 10px rgba(43, 140, 78, 0.13); }
    .modal-team-logo-chip[data-team="PIT"] { box-shadow: inset 0 0 10px rgba(255, 182, 18, 0.1); }
    .modal-team-logo-chip[data-team="SEA"] { box-shadow: inset 0 0 10px rgba(47, 200, 20, 0.11); }
    .modal-team-logo-chip[data-team="SF"]  { box-shadow: inset 0 0 10px rgba(179, 153, 93, 0.14); }
    .modal-team-logo-chip[data-team="TB"]  { box-shadow: inset 0 0 10px rgba(247, 122, 97, 0.14); }
    .modal-team-logo-chip[data-team="TEN"] { box-shadow: inset 0 0 10px rgba(75, 146, 219, 0.22); }
    .modal-team-logo-chip[data-team="WAS"] { box-shadow: inset 0 0 10px rgba(180, 36, 36, 0.16); }
    .modal-team-logo-chip span {
        font-size: 0.8rem;
        font-weight: 700;
        color: var(--color-text-secondary);
        padding: 0 4px;
    }
      .modal-team-logo-chip::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 1rem;
        backdrop-filter: blur(1px);
        box-shadow: inset 13px 8px 0px -10px rgba(255, 255, 255, .15),
        inset 0px 8px 0px -5px rgba(255, 255, 255, .1);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(115%);
        pointer-events: none;
     }
    /* · · Pos Tags · · */
  .modal-pos-tag {
    position: relative;
    line-height: 0.9rem;
    font-size: 0.9rem;
    padding: 4px 8px;
    background: rgba(255, 255, 255, 0.005);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.12);
    border-radius: 1rem;
    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2), inset 0 4px 20px rgba(255, 255, 255, 0.05);
    }
     .modal-pos-tag::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 4px;
        backdrop-filter: blur(1px);
        box-shadow: inset 11px 8px 0px -10px rgba(255, 255, 255, .1),
        inset 0px 8px 0px -5px rgba(255, 255, 255, .1);
        opacity: 0.34;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(115%);
        pointer-events: none;
     }
    .modal-pos-tag.QB {
        color: #FF3A75c0; /* QB color */
        box-shadow: inset 0 0 10px #FF3A7513;   /* QB border */
    }
    .modal-pos-tag.RB {
        color: #00EBC7c0; /* RB color */
        box-shadow: inset 0 0 6px #00EBC715;   /* RB border */
    }
    .modal-pos-tag.WR {
        color: #58A7FFca; /* WR color */
        box-shadow: inset 0 0 10px #58A7FF25;   /* WR border */
    }
    .modal-pos-tag.TE {
        color: #B469FFca; /* TE color */
        box-shadow: inset 0 0 10px #B469FF26;   /* TE border */
    }
    /* · · Modal Header · · */
    #modal-header h3 {
      font-size: 1.15rem;
      font-weight: 200;
      color: var(--color-text-primary);
      margin-bottom: 0.2rem;
      text-align: center;
      margin-left: 15px;
    }
    #modal-header h3 {
  display: inline-block;
  max-width: 15ch;          /* ~16 characters wide */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;  /* shows … at the end */
}
    #modal-body {
      color: #8086b0;
      overflow-x: auto;
      overflow-y: auto;
      border-radius: 8px;
      max-height: 70vh;
      scrollbar-width: none;
    }
    #modal-body:hover {
      scrollbar-width: thin;
    }
    #modal-body::-webkit-scrollbar {
      width: 0;
      height: 0;
    }
    #modal-body:hover::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    /* · · Table Styling · · */
    .modal-body{
        position: relative;
        background: rgba(5, 0, 30, 0.081);
        backdrop-filter: blur(1px) saturate(140%);
        border: 1px solid rgba(250, 250, 250, 0.1);
        border-radius: 9px;
        box-shadow: 0 8px 32px rgba(31, 38, 105, 0.15), inset 0 6px 20px rgba(255, 255, 255, 0.013);
        height: 416px;
    }
    .modal-body::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 9px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
        opacity: 0.1;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 10px black) brightness(100%);
        pointer-events: none;
        }
    #modal-body table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.7rem;
      margin-bottom:2px;
    }
    #game-logs-modal .game-logs-table-container {
      display: flex;
      flex-direction: column;
      gap: 0;
      height: 100%;
    }
    #game-logs-modal .game-logs-hscroll {
      width: 100%;
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
    }
    /* Hide horizontal scrollbar on mobile to prevent covering rank annotations */
    @media (max-width: 640px) {
      #game-logs-modal .game-logs-hscroll::-webkit-scrollbar {
        height: 6px;
      }
      #game-logs-modal .game-logs-hscroll::-webkit-scrollbar-thumb {
        background-color: rgba(255,255,255,0.06);
        border-radius: 3px;
      }
    }
    #game-logs-modal .game-logs-hscroll-content { display: inline-block; vertical-align: top; }
    #game-logs-modal .game-logs-table-header,
    #game-logs-modal .game-logs-table-footer {
      overflow: visible;
      margin: 0;
      padding: 0;
    }
    #game-logs-modal .game-logs-table-body {
      max-height: 316px;
      overflow-y: auto;
      overflow-x: hidden; /* horizontal handled by parent hscroll */
      /* Narrow, subtle scrollbars (match stats page) */
      scrollbar-width: thin;
      scrollbar-color: rgba(255,255,255,0.06) transparent;
    }
    #game-logs-modal .game-logs-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.7rem;
      table-layout: fixed;
      will-change: transform;
      transform: translateZ(0);
    }
    /* Reduce any gap above the horizontal scrollbar and ensure footer isn't clipped */
    #game-logs-modal .game-logs-hscroll { padding-bottom: 0; }
    #game-logs-modal .game-logs-table-footer { padding-bottom: 8px; margin-bottom: 0; }
    #game-logs-modal .game-logs-table thead,
    #game-logs-modal .game-logs-table tfoot {
      display: table;
      width: 100%;
      table-layout: fixed;
    }
    #game-logs-modal .game-logs-table-body::-webkit-scrollbar {
      width: 8px;
      height: 8px;
      background: transparent;
    }
    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-thumb {
      background-color: rgba(255,255,255,0.06);
      border-radius: 8px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }
    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-thumb:hover {
      background-color: rgba(255,255,255,0.12);
    }
    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-track {
      background: transparent;
    }
    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-corner {
      background: transparent;
    }
    #modal-body th,
    #modal-body td {
      padding: 0.2rem 0.25rem;
      text-align: center;
      /* border-bottom is removed from here to be more specific */
    }
    #game-logs-modal thead th.gamelog-header-passing,
    #game-logs-modal tfoot th.gamelog-header-passing {
      color: #FFB2D8;
    }
    #game-logs-modal thead th.gamelog-header-rushing,
    #game-logs-modal tfoot th.gamelog-header-rushing {
      color: #75e0b7;
    }
    #game-logs-modal thead th.gamelog-header-receiving,
    #game-logs-modal tfoot th.gamelog-header-receiving {
      color: #63b0de;
    }
    #game-logs-modal thead th.gamelog-header-all,
    #game-logs-modal tfoot th.gamelog-header-all {
      color: #b7adfe;
    }
    #modal-body thead th {
      border-bottom: 1px solid var(--color-panel-border);
    }
    #modal-body th {
      font-weight: 600;
      font-size: 0.6rem;
      color: #bbc0e8;
      white-space:nowrap;
    }
    #modal-body tfoot tr {
      border-top: 1px solid rgb(128 138 189 / 18%);
      white-space:nowrap;
      font-size: 0.7rem;
    }
    #modal-body tfoot th {
        color: var(--color-accent-primary);
        white-space:nowrap;
        padding: 0.1rem 0rem 0.035rem 0.02rem;
    }
    #game-logs-modal .game-logs-table-footer tfoot tr:first-child th {
        padding-top: 0.35rem;
        padding-bottom: 0.35rem;
        vertical-align: middle;
    }
    #modal-body .no-logs {
        text-align: center;
        padding: 2rem;
        font-style: italic;
        min-height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    #modal-header {
      text-align: center;
    }
    #modal-player-name {
      text-align: center;
      margin-bottom: 0.12rem;
    }
    #modal-player-vitals {
      display: flex;
      justify-content: center;
    }
    .player-vitals {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 1.9rem;
      white-space: nowrap;
       }
    .player-vitals__item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.1rem;
    }
    .player-vitals__label {
      font-size: 0.45rem;
      letter-spacing: 0.07em;
      color: var(--color-text-tertiary);
      text-transform: uppercase;
      line-height: 1;
    }
    .player-vitals__value {
      font-size: 0.75rem;
      font-weight: 400;
      color: #BDC1D8df;
      line-height: 1;
    }
    .player-vitals--modal {
      margin: 0.2rem 0 0.58rem;
    border: 1px solid #ffffff10;
    padding: 4px 7px;
    border-radius: 8px;
    }
    .player-vitals--modal {
    position: relative;
    background: rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
    }
    .player-vitals--modal::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 8px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .03),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .031);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
    }
    .player-vitals--compare {
      margin: 0.15rem auto 0.25rem;
      border-radius: 8px;
      border: 1px solid #fff2;
      padding: 4px 4px;
      width: 100%;
      display: flex;
      justify-content: center;
      flex-wrap: nowrap;
      column-gap: 0.5rem;
      row-gap: 0.25rem;
      white-space: nowrap;
      margin-bottom:2px;
    }
    .player-vitals--compare {
    position: relative;
    background: rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
    }
    .player-vitals--compare::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 8px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .07),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .031);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
    }
    .player-vitals--compare .player-vitals__label {
      font-size: 0.35rem;
      letter-spacing: 0.16em;
    }
    .player-vitals--compare .player-vitals__item {
      flex: 0 1 auto;
    }
    .player-vitals--compare .player-vitals__value {
      font-size: 0.63rem;
    }
    #modal-summary-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.6rem;
    }
    #modal-summary-chips {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: nowrap;
    }
    /* · · Summary Chips · · */
    .summary-chip {
        position: relative;
        background: rgba(0, 0, 0, 0.02);
        backdrop-filter: blur(1px) saturate(180%);
        border: 1px solid rgba(250, 250, 250, 0.1);
        border-radius: 13px;
        padding: 1.25rem;
        box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
    }
    /* AFTER */
    .summary-chip::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 13px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
    }
     .summary-chip {
      padding: 0.27rem 0.6rem;
      text-align: center;
      min-width: auto;
      white-space: nowrap;
    }
    .summary-chip h4 {
      font-size: 0.7rem;
      font-weight: 700;
      color: var(--color-text-secondary);
      margin-bottom: 0.1rem;
      text-transform: uppercase;
      border-bottom: 1px solid var(--color-panel-border);
      padding-bottom: 0.1rem;
    }
    .chip-values {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.85rem;
        color: var(--color-text-primary);
        font-weight: 400;
    }
    .chip-separator {
        color: var(--color-text-tertiary);
        font-size: 0.8rem;
        font-weight: 400;
    }
/* · · GameLogs Summary Chips · · */
#game-logs-modal .gamelogs-summary-chip {
    flex: 1;
    padding: 0.25rem 0.7rem;
    text-align: center;
    white-space: nowrap;
    min-width: auto;
    position: relative;
    background: rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    border-radius: 13px;
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
}
#game-logs-modal .gamelogs-summary-chip::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 13px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .03),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .031);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
}
#game-logs-modal .gamelogs-summary-chip h4 {
    font-size: 0.7rem;
    font-weight: 700;
    color: var(--color-text-secondary);
    margin-bottom: 0.1rem;
    text-transform: uppercase;
    border-bottom: 1px solid var(--color-panel-border);
    padding-bottom: 0.1rem;
    gap: 0.5rem;
}
#game-logs-modal .gamelogs-summary-chip .chip-header-value {
    font-size: 0.8rem;
}
#game-logs-modal .gamelogs-summary-chip .chip-values {
     display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.00rem;
    font-size: 0.85rem;
    color: var(--color-text-primary);
    font-weight: 400;
}
#game-logs-modal .gamelogs-summary-chip .chip-separator {
    margin: 0 0.25rem;
}
    .chip-pos-rank-label {
        font-size: 0.85em;
        font-weight: 400;
        margin-top: 0.05rem;
    }
    .pos-rank-container {
        display: inline-flex;
        align-items: center;
    }
    .pos-color-QB { color: var(--color-text-secondary);}
    .pos-color-RB { color: var(--color-text-secondary);}
    .pos-color-WR { color: var(--color-text-secondary);}
    .pos-color-TE { color: var(--color-text-secondary);}
    .week-column-header {
        font-weight: 700;
        text-align: center;
    }
    #modal-body thead .week-column-header,
    #modal-body tbody .week-cell,
    #modal-body tfoot .week-column-header {
        color: #8f93ab;
        padding-right: 1px;
        padding-left: 1px;
    }
  #modal-body tbody .week-cell {
    font-weight: 700;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0.05rem 0.2rem; /* tighter rows */
  }
  /* Game log week tag container */
  #game-logs-modal .gamelog-week-tag {
    --week-tag-w: 57px;
    --week-tag-h: 26px; /* reduced to keep compact with smaller inter-line gap */
    position: relative;
    display: inline-grid;
    align-items: center;
    justify-items: center;
    width: var(--week-tag-w);
    min-width: var(--week-tag-w);
    height: var(--week-tag-h);
    min-height: var(--week-tag-h);
    line-height: 1; /* normalize to avoid extra vertical space */
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.02);
    -webkit-backdrop-filter: blur(1px) saturate(180%);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.10), inset 0 6px 20px rgba(255, 255, 255, 0.013);
  }
#game-logs-modal .gamelog-week-tag::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.01);
  backdrop-filter: blur(1px);
  box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05),
              inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
  opacity: 0.4;
  z-index: -1;
  pointer-events: none;
}
#game-logs-modal .unplayed-week-row .gamelog-week-tag {
  opacity: 0.52;
}
#game-logs-modal .live-week-row .gamelog-week-tag {
  opacity: 1;
}
  /* Top line: WK-# */
  #game-logs-modal .gamelog-week-tag-number {
    font-size: 0.6rem; /* touch smaller but larger than opponent */
    font-weight: 700;
    color: #8f93ab;
    margin: 0;
  }
  /* Bottom line: opponent • rank */
  #game-logs-modal .gamelog-week-tag-opponent {
    font-size: 0.5rem; /* smaller than WK line */
    font-weight: 600;
    display: inline-flex;
    align-items: baseline;
    justify-content: center;
    gap: 0.05rem;
    margin: 0; /* no extra vertical space */
  }
  #game-logs-modal .gamelog-week-tag-opponent-text {
    display: inline-block;
  }
  #game-logs-modal .gamelog-week-tag-separator {
    color: #8f93ab;
    opacity: 0.6;
    margin: 0px 1px;
  }
  #game-logs-modal .gamelog-week-tag-rank {
    display: inline-flex;
    align-items: baseline; /* bottom-align number and suffix */
    font-size: 0.5rem;
  }
  #game-logs-modal .gamelog-week-tag-rank-number {
    font-size: 0.95em; /* explicit for clarity */
    font-weight: 400;
  }
  #game-logs-modal .gamelog-week-tag-rank-suffix {
    font-size: 0.9em; /* relative to number (0.9 of 0.5rem = 0.45rem) */
    font-weight: 400;
  }
  .week-cell .week-number,
  .week-opponent-label {
    display: inline-block;
    vertical-align: middle;
  }
  .week-opponent-separator {
    display: inline-block;
    margin: 0 0.15rem;
    color: inherit;
    opacity: 0.7;
  }
  .week-opponent-label {
    /* Keep the label at the cell's base font size so annotations scale the same as other stat annotations across the table. Previous fixed sizing caused the annotation to appear mismatched. */
    font-size: .5rem;
    line-height: 1;
    margin-top: 0;
    font-weight: 600;
    display: inline-flex;
    align-items: center; /* vertically center annotation and label */
    gap: 0.01rem;
  }
  /* Make the opponent rank annotation inline, centered, and wrapped in parentheses without affecting other stat-rank annotations elsewhere. Keep sizing identical to the general .has-rank-annotation rule. */
  .week-opponent-label .stat-rank-annotation {
   /* Restore the original compact sizing and importance that was used for week label annotations. Keep transform cleared so it sits vertically centered next to the opponent label. This selector intentionally targets only the opponent instance. */
   display: inline-block;
   font-size: 0.5rem !important;
   line-height: 1;
   margin-left: 0.12em !important;
   transform: translateY(-0.15em) !important; /* ensure no upward offset */
   font-weight: 400 !important;
  }
/* · · Table Footer · · */
    .modal-table-footer-label {
        line-height: 1.1;
        padding-top: 0.3rem;
        padding-bottom: 0rem;
        vertical-align: middle;
    }
    .modal-table-footer-label .season-label{
        margin-top: 4px;
        font-size: 1.1em;   /* tweak */
        color: var(--color-text-secondary);
        }
    .modal-table-footer-label .gp-label {
        font-size: 0.95em;
        color: var(--color-text-tertiary);
        display: block;
        margin-top: 2px;
    }
/* · · Unplayed and Bye Week Row Styles · · */
#modal-body tbody tr.unplayed-week-row {
  opacity: 0.82;
}
#modal-body tbody tr.unplayed-week-row td {
  color: #a3a9cf;
}
#modal-body tbody tr.bye-week-row {
  opacity: 0.82;
}
#modal-body tbody tr.bye-week-row td {
  color: #a3a9cf;
}
/* Footer stat: stack rank annotation directly below value with minimal spacing */
#game-logs-modal tfoot td.has-rank-annotation {
  vertical-align: bottom;
  padding-bottom: 0rem;
  padding-top: 0.2rem;
 }
#game-logs-modal tfoot td.has-rank-annotation .stat-value {
  display: block;
  line-height: 1.08;
  margin-bottom: 0.2rem;
  font-size: 0.72rem;
  font-weight: 500;
}
#game-logs-modal td.proj-cell {
  color: rgba(175, 181, 211, 0.68);
  font-style: italic;
  font-size: 0.85em;
}
#game-logs-modal tfoot td.has-rank-annotation .stat-rank-annotation {
  display: block;
  line-height: 1;
  margin-top: 0.02rem;
  white-space: nowrap;
  font-size: 0.6rem;
  text-align: center;
}
#game-logs-modal tfoot td.has-rank-annotation .stat-rank-annotation--bulleted {
  text-align: center;
}
#game-logs-modal tfoot td.has-rank-annotation .stat-rank-annotation .stat-rank-bullet {
  display: inline-block;
  font-size: 0.75em;
  opacity: 0.7;
  margin: 0 0.05rem;
}
/* Divider between completed and upcoming weeks */
#game-logs-modal tbody tr.week-divider-row td {
padding: 0.15rem 0rem 0rem 0rem;
}
#game-logs-modal tbody tr.week-divider-row td::before {
  content: "";
  display: block;
  height: 1px;
      background: linear-gradient(90deg, rgba(160, 170, 210, 0.04), rgba(160, 170, 210, 0.1), rgba(160, 170, 210, 0.05), rgba(160, 170, 210, 0.1), rgba(160, 170, 210, 0.07));
}
.modal-footer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    margin-top: 0.35rem;
    margin-bottom: 0.15rem;
    font-size: 0.75rem;
    line-height:0.75rem;
    color: var(--color-text-tertiary);
}
#player-comparison-modal .modal-footer {
    margin-top: 0.25rem;
    margin-bottom: 0.05rem;
}
.modal-info-btn {
    font-size: 0.75rem;
    line-height: 0.8rem;
    cursor: pointer;
    transition: color 0.2s ease, filter 0.2s ease, transform 0.1s ease;
}
/* Desktop-only hover (prevents color sticking on mobile) */
@media (hover: hover) and (pointer: fine) {
    .modal-info-btn:hover {
        color: var(--color-text-primary);
    }
}
.modal-info-btn.active {
    color: var(--color-text-primary);
    filter: drop-shadow(0 0 8px rgba(154, 153, 242, 0.6)) 
            drop-shadow(0 0 12px rgba(154, 153, 242, 0.4))
            brightness(1.15);
}
.modal-info-btn.active .key-chip {
    border-color: rgba(154, 153, 242, 0.3);
    background: rgba(154, 153, 242, 0.08);
    box-shadow: 0 0 16px rgba(154, 153, 242, 0.4),
                0 8px 32px rgba(31, 38, 135, 0.2), 
                inset 0 4px 20px rgba(255, 255, 255, 0.08);
}
/* · · Key-Button · · */
.key-chip {
      position: relative;
        background: rgba(255, 255, 255, 0.005);
        backdrop-filter: blur(3px) saturate(170%);
        border: 1px solid rgba(250, 250, 250, 0.06);
        border-radius: 4px;
        padding: 5px 7px;
        box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2), inset 0 4px 20px rgba(255, 255, 255, 0.05);
        }
        .key-chip::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 4px;
        backdrop-filter: blur(3px);
        box-shadow: inset 7.5px 10px 0px -11px rgba(255, 255, 255, .25),
        inset 0px 10px 0px -8px rgba(255, 255, 255, .01);
        opacity: 0.4;
        z-index: -1;
        filter: blur(2px) drop-shadow(10px 4px 6px black) brightness(115%);
        pointer-events: none;
        }
/* · · Key Panel · · */
.stats-key-panel {
    background: var(--color-panel-bg);
    border: 1px solid var(--color-panel-border);
    border-radius: var(--card-border-radius);
    padding: 0.2rem 0.5rem;
    margin-top: 1rem;
    max-height: 20vh;
    overflow-y: auto;
}
#game-logs-modal #modal-body .stats-key-panel {
    position: absolute;
    inset: 0;
    margin: 0;
    padding: 1rem;
    max-height: none;
    overflow-y: auto;
    border-radius: 9px;
    background: rgb(21 22 37 / 95%);
    border: 1px solid #4423c60a;
    box-shadow: 0 2px 8px rgba(250, 250, 254, 0.92), 
inset 0px 0px 155px rgba(216, 215, 255, 0.1);
    z-index: 5;
}

/* Radar Chart Container - Same overlay behavior */
#game-logs-modal #modal-body #radar-chart-container {
    position: absolute;
    inset: 0;
    margin: 0;
    padding: 0.41rem;
    max-height: none;
    overflow-y: auto;
    border-radius: 9px;
    background: radial-gradient(circle at center, #151723 15%, #262940 100%);
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.2), inset 0 6px 18px rgba(255, 255, 255, 0.04);
    z-index: 5;
    border: 1px solid #7779;
}

/* Consistency Container - HUD + chart overlay */
#game-logs-modal #modal-body #consistency-container {
    position: absolute;
    inset: 0;
    margin: 0;
    padding: 0.6rem 0.75rem 0.75rem;
    max-height: none;
    overflow-y: auto;
    border-radius: 9px;
    background: radial-gradient(circle at 10% 0%, rgba(17, 19, 36, 0.98), rgba(10, 13, 27, 0.96));
    border: 1px solid rgba(119, 125, 191, 0.35);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.45), inset 0 1px 0 rgba(255, 255, 255, 0.08);
    z-index: 5;
}

.consistency-panel {
    display: flex;
    flex-direction: column;
    gap: 0.85rem;
    min-height: 100%;
}

.consistency-panel-shell {
    display: flex;
    flex-direction: column;
    gap: 0.9rem;
    min-height: 100%;
}

.consistency-hud {
    display: grid;
    grid-template-columns: minmax(0, 1.1fr) minmax(0, 2.1fr) minmax(0, 1.1fr);
    gap: 1.1rem;
    padding: 0.85rem 1rem;
    border-radius: 18px;
    background: linear-gradient(135deg, rgba(64, 70, 114, 0.18), rgba(21, 25, 61, 0.45));
    border: 1px solid rgba(156, 177, 255, 0.22);
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55), inset 0 1px 0 rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(6px);
}

.consistency-hud-segment {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 0.35rem;
}

.consistency-hud-segment--center {
    text-align: center;
    align-items: center;
}

.consistency-progress-circle {
    position: relative;
    width: 132px;
    height: 132px;
    padding: 10px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle, rgba(78, 92, 155, 0.25), rgba(13, 14, 27, 0.35));
    border: 1px solid rgba(159, 194, 255, 0.32);
    box-shadow: inset 0 0 12px rgba(255, 255, 255, 0.02), 0 8px 32px rgba(0, 0, 0, 0.65);
}

.consistency-progress-ring {
    position: absolute;
    inset: -10px;
    transform: rotate(-90deg);
}

.consistency-progress-ring-track {
    fill: none;
    stroke: rgba(109, 123, 172, 0.32);
    stroke-width: 7;
}

.consistency-progress-ring-fill {
    fill: none;
    stroke-width: 7;
    stroke-linecap: round;
    stroke-dasharray: 289;
    stroke-dashoffset: calc(289 * (1 - var(--progress, 0)));
}

.consistency-progress-ring-fill--ceiling {
    transform-origin: 60px 60px;
}

.consistency-progress-circle-inner {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    text-align: center;
    gap: 0.05rem;
}

.consistency-progress-value {
    font-size: 1.4rem;
    font-weight: 600;
    color: var(--color-text-primary);
    text-shadow: 0 0 12px rgba(124, 245, 255, 0.45);
}

.consistency-progress-label {
    font-size: 0.7rem;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: var(--color-text-secondary);
}

.consistency-progress-caption {
    font-size: 0.52rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--color-text-tertiary);
}

.consistency-hud-player {
    margin-bottom: 0.25rem;
}

.consistency-hud-eyebrow {
    font-size: 0.78rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--color-text-tertiary);
}

.consistency-hud-player-name {
    font-weight: 600;
    color: var(--color-text-primary);
}

.consistency-hud-context {
    margin-top: 0.25rem;
    color: var(--color-text-secondary);
    font-size: 0.85rem;
}

.consistency-hud-metrics {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.consistency-metric-block {
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
}

.consistency-metric-label {
    font-size: 0.62rem;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: var(--color-text-tertiary);
}

.consistency-metric-primary {
    display: flex;
    gap: 0.45rem;
    align-items: baseline;
}

.consistency-metric-value {
    font-size: 1.3rem;
    font-weight: 600;
    color: #c4b8ff;
}

.consistency-metric-sub {
    font-size: 0.78rem;
    color: #7fd9f2;
}

.consistency-hud-zones {
    display: flex;
    gap: 0.35rem;
    flex-wrap: wrap;
    justify-content: center;
}

.consistency-zone-chip {
    padding: 0.15rem 0.55rem;
    border-radius: 999px;
    border: 1px solid rgba(148, 177, 255, 0.3);
    text-transform: uppercase;
    font-size: 0.58rem;
    letter-spacing: 0.14em;
    color: var(--color-text-secondary);
}

.consistency-zone-chip--bad { border-color: rgba(255, 111, 182, 0.7); }
.consistency-zone-chip--good { border-color: rgba(185, 172, 255, 0.65); }
.consistency-zone-chip--great { border-color: rgba(124, 245, 255, 0.75); }

.consistency-chart-shell {
    border-radius: 12px;
    border: 1px solid rgba(133, 154, 233, 0.4);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
    background: rgba(9, 10, 20, 0.75);
    padding: 0.35rem;
}

.consistency-chart-box {
    position: relative;
    height: clamp(280px, 42vh, 380px);
    border-radius: 9px;
    overflow: hidden;
}

.consistency-chart-y-axis {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0.4rem;
    width: 3rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 0.9rem 0.1rem 2.1rem;
    font-size: 0.55rem;
    letter-spacing: 0.12em;
    color: rgba(234, 235, 240, 0.7);
    text-transform: uppercase;
    z-index: 4;
}

.consistency-chart-grid {
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        to top,
        rgba(255, 255, 255, 0.04) 0px,
        rgba(255, 255, 255, 0.04) 1px,
        transparent 1px,
        transparent 28px
    );
    pointer-events: none;
    z-index: 1;
}

.consistency-chart-zone {
    position: absolute;
    left: 3.2rem;
    right: 0.35rem;
    border-radius: 4px;
    padding: 0.2rem;
    color: rgba(239, 246, 255, 0.6);
    font-size: 0.45rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
}

.consistency-chart-zone--bad {
    top: calc(100% - 26%);
    bottom: 0;
    background: linear-gradient(180deg, rgba(255, 111, 182, 0.08), transparent);
}

.consistency-chart-zone--good {
    top: calc(100% - 45%);
    bottom: calc(100% - 26%);
    background: linear-gradient(180deg, rgba(185, 172, 255, 0.08), transparent);
}

.consistency-chart-zone--great {
    top: 0;
    bottom: calc(100% - 45%);
    background: linear-gradient(180deg, rgba(124, 245, 255, 0.12), transparent);
}

.consistency-zone-label {
    position: absolute;
    top: 4px;
    right: 0.4rem;
}

.consistency-chart-line-layer {
    position: absolute;
    inset: 0.9rem 0.5rem 2.2rem 3.3rem;
    z-index: 3;
}

.consistency-chart-x-axis {
    position: absolute;
    bottom: 0;
    left: 3.3rem;
    right: 0.35rem;
    display: flex;
    justify-content: space-between;
    font-size: 0.55rem;
    color: rgba(234, 235, 240, 0.85);
    background: rgba(18, 21, 41, 0.85);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    padding: 0.35rem 0.15rem;
    letter-spacing: 0.04em;
    z-index: 5;
}

.consistency-chart-x-axis span {
    flex: 1;
    text-align: center;
}

@media (max-width: 960px) {
    .consistency-hud {
        grid-template-columns: 1fr;
        text-align: center;
    }

    .consistency-hud-segment--left,
    .consistency-hud-segment--right {
        align-items: center;
    }
}

.stats-key-panel h4 {
    font-size: 0.95rem;
    font-weight: 200;
    color: var(--color-text-primary);
    margin-bottom: 0.3rem;
    margin-top: 0rem;
    text-align: center;
    border: 1px solid var(--color-panel-border);
    border: 0.0625rem solid rgba(250, 250, 250, 0.06);
    border-radius: 5px;
    background: #4f40701f;
}
.stats-key-panel ul {
    list-style: none;
    margin: 0 auto;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(2, max-content);
    gap: 0rem 1.25rem;
    justify-content: center;
}
@media (max-width: 540px) {
    .stats-key-panel ul {
        grid-template-columns: 1fr;
        gap: 0.05rem;
        padding: 0 0.5rem;
    }
    .stats-key-panel li {
        display: flex;
        padding: 0.12rem 0rem !important;
    }
    .stats-key-panel strong {
        width: auto;
        margin-right: 1em;
    }
}
    .stats-key-panel li {
        font-size: 0.7rem;
        color: var(--color-text-teriary);
        padding: 0 0.25rem;
        border-radius: 4px;
        transition: background-color 0.2s ease;
    }
    .stats-key-panel li:hover {
        background-color: rgba(255, 255, 255, 0.05);
    }
    .stats-key-panel strong {
        color: var(--color-text-secondary);
        font-weight: 700;
        margin-right: 0.5em;
        display: inline-block;
        width: 74px;
        text-align-last: center;
    }
/* · · Team Logo Glow · · */
/* === Team Logo (20px tag) === */
img.team-logo{
  width:18px;
  height:18px;
  display:inline-block;
  vertical-align:middle;
  object-fit:contain;
  image-rendering:auto;
  border-radius:3px; /* subtle smoothing inside cards */
}
/* === Team Logo (20px tag) === */
img.team-logo{
  width:19px;
  height:19px;
  display:inline-block;
  vertical-align:middle;
  object-fit:contain;
  image-rendering:auto;
  border-radius:3px; /* subtle smoothing inside cards */
}
/* === Team Logo Glow (single-layer; relies on --glow-r3 & --team-glow) === */
img.team-logo.glow{
  width:19px;
  height:19px;
  object-fit:contain;
  vertical-align:middle;
  filter: drop-shadow(0 0 var(--glow-r3) var(--team-glow));
}
/* === TEAM LOGO GLOW (per-team via CSS variables) ====================== Edit per-team color/opacity/radii below using the [alt="XXX"] blocks. - --team-glow : rgba color (includes alpha) - --glow-r1/2/3 : radii controlling how far the glow extends ====================================================================== */
img.team-logo.glow{
  width:19px;
  height:19px;
  object-fit:contain;
  vertical-align:middle;
  /* Defaults; can be overridden per team */
  --team-glow: rgba(0,0,0,0.94);
  --glow-r3: 3.2px;
  filter: drop-shadow(0 0 var(--glow-r3) var(--team-glow));
}
/* Per-team glow overrides (color + tweaked radius; single layer) */
img.team-logo.glow[alt="ARI"] {
  --team-glow: rgba(151, 35, 63, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="ATL"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.0px;
}
img.team-logo.glow[alt="BAL"] {
  --team-glow: rgba(158, 43, 246, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="BUF"] {
  --team-glow: rgba(198, 12, 48, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CAR"] {
  --team-glow: rgba(0, 133, 202, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CHI"] {
  --team-glow: rgba(120, 90, 240, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CIN"] {
  --team-glow: rgba(251, 79, 20, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CLE"] {
  --team-glow: rgba(225, 135, 0, 0.68) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="DAL"] {
  --team-glow: rgba(134, 147, 151, 0.86) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="DEN"] {
  --team-glow: rgba(251, 79, 20, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="DET"] {
  --team-glow: rgba(0, 183, 235, 0.86) !important;
  --glow-r3: 2.8px;
}
img.team-logo.glow[alt="GB"] {
  --team-glow: rgba(0, 235, 150, 0.68) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="HOU"] {
  --team-glow: rgba(167, 25, 48, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="IND"] {
  --team-glow: rgba(0, 183, 235, 0.93) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="JAX"] {
  --team-glow: rgba(0, 103, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="KC"] {
  --team-glow: rgba(255, 0, 64, 0.84) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="LAC"] {
  --team-glow: rgba(0, 191, 255, 0.74) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="LAR"] {
  --team-glow: rgba(0, 91, 200, 0.93) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="LV"] {
  --team-glow: rgba(165, 172, 175, 0.86) !important;
  --glow-r3: 2.8px;
}
img.team-logo.glow[alt="MIA"] {
  --team-glow: rgba(0, 142, 151, 0.93) !important;
  --glow-r3: 2.8px;
}
img.team-logo.glow[alt="MIN"] {
  --team-glow: rgba(115, 0, 255, 0.95) !important;
  --glow-r3: 3.0px;
}
img.team-logo.glow[alt="NE"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="NO"] {
  --team-glow: rgba(160, 148, 101, 0.86) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="NYG"] {
  --team-glow: rgba(55, 56, 200, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="NYJ"] {
  --team-glow: rgba(64, 160, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="PHI"] {
  --team-glow: rgba(43, 140, 78, 0.95) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="PIT"] {
  --team-glow: rgba(255, 182, 18, 0.61) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="SEA"] {
  --team-glow: rgba(105, 190, 40, 0.86) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="SF"] {
  --team-glow: rgba(179, 153, 93, 0.74) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="TB"] {
  --team-glow: rgba(247, 122, 97, 0.74) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="TEN"] {
  --team-glow: rgba(75, 146, 219, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="WAS"] {
  --team-glow: rgba(180, 36, 36, 0.95) !important;
  --glow-r3: 3.2px;
}
/* · · Team Tags in Game Log · · */
/* ===================================================================== CHIP-ONLY PER-TEAM GLOW OVERRIDES Scope: affects logos only inside .player-tag.modal-team-logo-chip ====================================================================== */
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="ARI"] {
  --team-glow: rgba(151, 35, 63, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="ATL"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.0px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="BAL"] {
  --team-glow: rgba(158, 43, 246, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="BUF"] {
  --team-glow: rgba(198, 12, 48, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CAR"] {
  --team-glow: rgba(0, 133, 202, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CHI"] {
  --team-glow: rgba(120, 90, 240, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CIN"] {
  --team-glow: rgba(251, 79, 20, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CLE"] {
  --team-glow: rgba(225, 135, 0, 0.68) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="DAL"] {
  --team-glow: rgba(134, 147, 151, 0.86) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="DEN"] {
  --team-glow: rgba(251, 79, 20, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="DET"] {
  --team-glow: rgba(0, 183, 235, 0.86) !important;
  --glow-r3: 2.8px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="GB"] {
  --team-glow: rgba(0, 235, 150, 0.68) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="HOU"] {
  --team-glow: rgba(167, 25, 48, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="IND"] {
  --team-glow: rgba(0, 183, 235, 0.93) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="JAX"] {
  --team-glow: rgba(0, 103, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="KC"] {
  --team-glow: rgba(255, 0, 64, 0.84) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="LAC"] {
  --team-glow: rgba(0, 191, 255, 0.74) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="LAR"] {
  --team-glow: rgba(0, 91, 200, 0.93) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="LV"] {
  --team-glow: rgba(165, 172, 175, 0.86) !important;
  --glow-r3: 2.8px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="MIA"] {
  --team-glow: rgba(0, 142, 151, 0.93) !important;
  --glow-r3: 2.8px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="MIN"] {
  --team-glow: rgba(115, 0, 255, 0.95) !important;
  --glow-r3: 3.0px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NE"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NO"] {
  --team-glow: rgba(160, 148, 101, 0.86) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NYG"] {
  --team-glow: rgba(55, 56, 200, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NYJ"] {
  --team-glow: rgba(64, 160, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="PHI"] {
  --team-glow: rgba(43, 140, 78, 0.95) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="PIT"] {
  --team-glow: rgba(255, 182, 18, 0.61) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="SEA"] {
  --team-glow: rgba(105, 190, 40, 0.86) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="SF"] {
  --team-glow: rgba(179, 153, 93, 0.74) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="TB"] {
  --team-glow: rgba(247, 122, 97, 0.74) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="TEN"] {
  --team-glow: rgba(75, 146, 219, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="WAS"] {
  --team-glow: rgba(180, 36, 36, 0.95) !important;
  --glow-r3: 3.2px;
}
/* · · Modal Layout Fit · · */
#player-comparison-modal {
  position: fixed;
  inset: 0;
  z-index: 15;            /* below #tradeSimulator (20), above header (10) */
  display: block;         /* don't center via flex */
  pointer-events: none;   /* allow clicks only on content panel */
  background: transparent;/* no backdrop for this modal */
}
#player-comparison-modal .modal-overlay {
  display: none;          /* hide dim overlay for this modal */
}
#player-comparison-modal .modal-content {
  position: fixed;        /* we’ll set top/height via JS in openComparisonModal() */
  left: 0.85rem;
  right: 0.85rem;
  margin: 0 auto;
  max-width: 800px;
  width: auto;
  max-height: none;       /* height is managed by JS */
  overflow: auto;         /* scroll inside if needed */
  transform: none;        /* no scale animation */
  opacity: 1;
  pointer-events: auto;   /* clickable */
  padding-bottom: 0.05rem;
}
/* · · Overlay · · */
#comparison-modal-background-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.2);
    z-index: 9; /* Below header (10) but above main content */
}
/* · · ✦ Modal BG, Blur, and Styling · · */
 #player-comparison-modal .modal-content {
    /* keep your existing layout props */
    border-radius: 9px;
      border: 1px solid rgba(250, 250, 250, 0.05);
      background-color: rgba(13, 14, 35, 0.18);
      -webkit-backdrop-filter: blur(6px) saturate(110%) brightness(110%);
      backdrop-filter: blur(6px) saturate(110%) brightness(110%);
      box-shadow: 0 8px 32px rgba(31, 38, 85, 0.15), inset 0 6px 20px rgba(255, 255, 255, 0.013), inset 0 0 4px #fff1;
      /* create a local stacking context so the ::after sits correctly */
      isolation: isolate;
    }
/* Highlight sheen layer (same as your .modal-body::after) */
#player-comparison-modal .modal-content::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 9px;
    background-color: rgba(13,14,35,0.18);
    -webkit-backdrop-filter: blur(6px) saturate(110%) brightness(110%);
    backdrop-filter: blur(6px) saturate(110%) brightness(110%);
    box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05), inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
    opacity: 0.1;
    filter: blur(6px) drop-shadow(10px 4px 10px black) brightness(110%);
    pointer-events: none;
}
/* === Radar Chart Styles === */
.radar-chart-content {
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 320px;
    position: relative;
}

#player-radar-canvas {
    max-width: 100%;
    max-height: 460px;
    width: 100% !important;
    height: 370px !important;
    padding: 8px 4px 0px 4px;
}

.no-data-message {
    color: #97a6d2;
    font-size: 14px;
    text-align: center;
    font-family: 'Product Sans', sans-serif;
}

/* === Game Logs Loading Animation === */
#game-logs-modal .modal-content {
    position: relative;
}

.game-logs-loading-container {
    position: absolute;
    top: 32px; /* Below header - adjust based on actual header height */
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    border-radius: 0 0 9px 9px;
    z-index: 100;
    padding: 2rem;
}

.game-logs-loading-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    gap: 2rem;
    width: 100%;
    padding-top: 0rem;
}

.game-logs-loading-spinner {
    position: relative;
    width: 140px;
    height: 140px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.game-logs-loading-spinner::before,
.game-logs-loading-spinner::after {
    content: '';
    position: absolute;
    border-radius: 50%;
}

/* Outer ring */
.game-logs-loading-spinner::before {
    width: 140px;
    height: 140px;
    border: 4px solid rgba(154, 153, 242, 0.12);
    border-top-color: rgba(154, 153, 242, 0.85);
    border-right-color: rgba(154, 153, 242, 0.65);
    animation: game-logs-spin 1.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
    box-shadow: 0 0 20px rgba(154, 153, 242, 0.3);
}

/* Inner glow */
.game-logs-loading-spinner::after {
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, rgba(154, 153, 242, 0.35), transparent 70%);
    animation: game-logs-pulse 1.8s ease-in-out infinite alternate;
}

@keyframes game-logs-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes game-logs-pulse {
    0% { opacity: 0.5; transform: scale(0.88); }
    100% { opacity: 0.95; transform: scale(1.08); }
}

.game-logs-loading-message {
    font-size: 1rem;
    line-height: 1.65;
    color: #BDC1D8;
    text-align: center;
    max-width: 420px;
    font-weight: 400;
    letter-spacing: 0.01em;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.game-logs-loading-message strong {
    color: var(--color-text-primary);
    font-size: 1.15rem;
    font-weight: 600;
    display: block;
    margin-bottom: 0.25rem;
}

.game-logs-loading-footer {
    font-size: 0.85rem;
    line-height: 1.5;
    color: rgba(189, 193, 216, 0.75);
    text-align: center;
    max-width: 500px;
    margin: 0;
    padding-top: 1rem;
    border-top: 1px solid rgba(154, 153, 242, 0.15);
}

.game-logs-loading-footer em {
    font-style: italic;
}

/* Hide modal body background during loading */
#game-logs-modal .modal-body.loading {
    background: transparent;
    border: none;
    box-shadow: none;
    opacity: 0;
    visibility: hidden;
    height: 0;
    min-height: 0;
    padding: 0;
}

#game-logs-modal .modal-body.loading::after {
    display: none;
}

/* Hide footer buttons completely during loading */
#game-logs-modal.loading .modal-footer {
    display: none;
}
/* === End Game Logs Loading Animation === */

@media (max-width: 640px) {
    #game-logs-modal:not(.hidden) .modal-content, #player-comparison-modal:not(.hidden) .modal-content {
        height: 545px;
    }
    
    .modal-body {
        height: 352px;
        max-height: 65vh;
    }
    
    #game-logs-modal .game-logs-table-body {
        max-height: 266px;
    }
    
    .radar-chart-content {
        padding: 0;
        min-height: 310px;
    }
    
    #player-radar-canvas {
        max-width: 100%;
        max-height: 360px;
        height: 294px !important;
        padding: 0px 4px 0px 4px;
    }
    
    #game-logs-modal #modal-body #radar-chart-container {
        padding: 0.21rem;
    }
}


/* ========================= SYOP PAGE LAYOUT & VISUALS ========================= */

/* --- HOME-PAGE ONLY HEADER RULES --- */
body[data-page="welcome"] #filters-row,
body[data-page="welcome"] #secondary-header-row .view-switcher,
body[data-page="research"] #secondary-header-row .view-switcher {
    display: none !important;
}
body[data-page="welcome"] #secondary-header-row,
body[data-page="ownership"] #secondary-header-row,
body[data-page="analyzer"] #secondary-header-row,
body[data-page="research"] #secondary-header-row {
    justify-content: center; /* Center the remaining items */
    gap: 0.75rem; /* Add some space between them */
}
/* Make the inputs take up more space on mobile */
@media (max-width: 520px) {
    body[data-page="welcome"] #secondary-header-row .username-area,
    body[data-page="welcome"] #secondary-header-row .custom-select-wrapper {
        flex: 1; /* Allow them to grow equally */
        max-width: 50%; /* Each takes up half the space */
    }
}

/* ⬇︎ MOBILE LEAGUE NAVIGATION PANEL ⬇︎ */
/* Only show on mobile for rosters page */
#mobile-league-nav {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 100;
  padding: 0.9rem 1rem;
  padding-left: 2rem;
  padding-right: 2rem;
  pointer-events: none;
}

@media (max-width: 819px) {
  body[data-page="rosters"] #mobile-league-nav {
    display: block;
  }
}

.mobile-league-nav-panel {
  display: flex;
  align-items: stretch;
  justify-content: space-between;
  height: 3rem;
  width: 100%;
  max-width: 365px;
  margin: 0 auto;
  overflow: hidden;
  border-radius: 0.7rem;
  pointer-events: auto;
  transition: opacity 0.3s ease, transform 0.3s ease;
  background: rgb(119 109 144 / 35%);
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.3), inset 0 0 25px #6000ff25;
}

/* Dimmed state when scrolling */
#mobile-league-nav.scrolling .mobile-league-nav-panel {
  opacity: 0.5;
}

/* Hidden state for start/sit and trade preview modes */
#mobile-league-nav.hidden {
  display: none;
}

.league-nav-arrow {
  flex: 0 0 3.5rem;
  width: 3.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.9);
  font-size: 1.25rem;
  cursor: pointer;
  transition: all 0.2s ease;
  -webkit-tap-highlight-color: transparent;
}

.league-nav-arrow:active {
  transform: scale(0.95);
  background: rgba(255, 255, 255, 0.05);
}

.league-nav-arrow:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.league-nav-divider {
  width: 1px;
  flex-shrink: 0;
  background: rgba(255, 255, 255, 0.17);
}

.league-nav-selector {
  flex: 1;
  min-width: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  padding: 0 0.75rem;
  cursor: pointer;
  transition: background 0.2s ease;
  -webkit-tap-highlight-color: transparent;
}

.league-nav-selector:active {
  background: rgba(255, 255, 255, 0.05);
}

.league-nav-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.125rem;
  width: 100%;
  min-width: 0;
}

.league-nav-name-wrapper {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  min-width: 0;
  max-width: 100%;
}

.league-nav-name {
  font-family: var(--font-display);
  font-size: 0.9375rem;
  font-weight: 600;
  color: rgb(198 204 224 / 95%);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 160px;
  letter-spacing: 0.01em;
}

.league-nav-dropdown-icon {
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.7);
}

.league-nav-subtitle {
  font-family: var(--font-display);
  font-size: 0.6875rem;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.5);
  letter-spacing: 0.02em;
}

/* League Selection Popup */
#league-selection-popup {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 1.43rem;
  padding-bottom: 3rem; /* Space above the nav panel */
  pointer-events: auto;
}

#league-selection-popup.hidden {
  display: none;
}

.league-popup-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  pointer-events: auto;
}

.league-popup-content {
  position: relative;
  width: 100%;
  max-width: 400px;
  max-height: 57vh;
  border-radius: 1rem;
  background: rgb(92 89 117 / 25%);
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  display: flex;
  flex-direction: column;
  animation: slideUpFadeIn 0.3s ease-out;
  pointer-events: auto;
  z-index: 1001;
}

@keyframes slideUpFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.league-popup-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.43rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.league-popup-header h3 {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.95);
  margin: 0;
}

.league-popup-close {
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.7);
  font-size: 1.75rem;
  line-height: 1;
  cursor: pointer;
  padding: 0;
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  -webkit-tap-highlight-color: transparent;
}

.league-popup-close:hover {
  color: rgba(255, 255, 255, 0.95);
}

.league-popup-list {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  flex: 1;
  padding: 0.5rem;
}

.league-popup-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.55rem 1.5rem;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 0.5rem;
  margin-bottom: 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid rgba(255, 255, 255, 0.05);
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  -webkit-user-select: none;
}

.league-popup-item:hover,
.league-popup-item:active {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
}

.league-popup-item.active {
  background: rgba(99, 102, 241, 0.15);
  border-color: rgba(99, 102, 241, 0.4);
}

.league-popup-item-name {
  font-family: var(--font-display);
  font-size: 1rem;
  font-weight: 300;
  color: rgb(201 208 237 / 90%);
}

.league-popup-item-check {
  color: var(--color-accent-primary);
  font-size: 1.125rem;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.league-popup-item.active .league-popup-item-check {
  opacity: 1;
}

  @media (max-width: 768px) {
        .start-sit-total-label,
        .start-sit-total-value {
            display: block;
        }
        .start-sit-total-value {
            margin-top: 0.25rem;
        }
    }

/* ⬇︎ MOBILE-ONLY ROSTERS PAGE HEADER LAYOUT ⬇︎ */
@media (max-width: 819px) {
  /* Hide username and league select on rosters page mobile */
  body[data-page="rosters"] .username-area,
  body[data-page="rosters"] .custom-select-wrapper {
    display: none !important;
  }

  /* Hide clear filters button on mobile */
  body[data-page="rosters"] #clearFiltersButton {
    display: none !important;
  }

  /* Reorganize header to 2 rows */
  body[data-page="rosters"] #header-container .app-header {
    display: flex;
    flex-direction: column;
    padding: 0.57rem 0.15rem 0.46rem;
    gap: 0.46rem;
  }

  /* First row: Navigation buttons */
  body[data-page="rosters"] #primary-header-row {
    display: flex;
    width: 100%;
  }

  body[data-page="rosters"] .nav-buttons-container {
    display: flex;
    width: 100%;
    justify-content: space-between;
    gap: 0.25rem;
  }

  /* Second row: View switcher + Start/Sit + Filters + Compare */
  body[data-page="rosters"] #contextual-controls {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  body[data-page="rosters"] #secondary-header-row {
    display: none !important;
  }

  body[data-page="rosters"] #filters-row {
    display: flex;
    align-items: stretch; /* Changed from center to stretch for uniform height */
    justify-content: flex-start;
    gap: 0.25rem;
    width: 100%;
    padding: 0;
    border-top: none;
    flex-wrap: nowrap;
  }

  /* Start/Sit button - MOVED TO FIRST POSITION */
  body[data-page="rosters"] .start-sit-button-slot {
    order: 1;
    flex: 0 0 auto !important;
    display: flex;
    align-items: stretch;
  }

  body[data-page="rosters"] .start-sit-button {
    padding: 0.32rem 0.38rem !important;
    gap: 0.1rem !important;
    min-width: 3rem !important;
    height: auto !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    flex: 0 0 auto !important;
    width: auto !important;
  }

  body[data-page="rosters"] .start-sit-button .analyzer-icon {
    font-size: 0.85rem !important;
    line-height: 1 !important;
  }

  body[data-page="rosters"] .start-sit-button .analyzer-label {
    font-size: 0.45rem !important;
    margin-top: 0.04rem !important;
    line-height: 1 !important;
  }

  /* Prevent alignment shifts on Start/Sit button - NO transform or outline */
  body[data-page="rosters"] .start-sit-button:hover,
  body[data-page="rosters"] .start-sit-button:active,
  body[data-page="rosters"] .start-sit-button:focus,
  body[data-page="rosters"] .start-sit-button:focus-visible {
    transform: none !important;
    outline: none !important;
  }

  body[data-page="rosters"] .start-sit-button.active:hover,
  body[data-page="rosters"] .start-sit-button.active:active,
  body[data-page="rosters"] .start-sit-button.active:focus {
    transform: none !important;
  }

  /* View switcher - MOVED TO SECOND POSITION */
  body[data-page="rosters"] .view-switcher {
    order: 2;
    flex: 0 0 auto;
    padding: 0.08rem 0.08rem;
    gap: 0;
    margin-right: -2px;
  }

  body[data-page="rosters"] .view-switcher button {
    padding: 0.3rem 0.4rem !important;
    min-height: 1.5rem;
    font-size: 0.6rem !important;
    gap: 0.04rem;
  }

  body[data-page="rosters"] .view-switcher button i {
    font-size: 0.72rem;
    line-height: 1;
  }

  body[data-page="rosters"] .view-switcher .switcher-label {
    font-size: 0.36rem;
    line-height: 1;
  }

  /* View dropdown - MOBILE ONLY - replaces switcher */
  body[data-page="rosters"] .view-switcher-dropdown {
    order: 2;
    flex: 0 0 auto !important;
    position: relative;
    display: flex;
    align-items: stretch;
  }

  body[data-page="rosters"] .view-dropdown-toggle {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.1rem !important;
    padding: 0.32rem 0.35rem !important;
    min-height: auto !important;
    height: auto !important;
    min-width: 3.45rem;
    background: rgba(13, 14, 35, 0.05);
    border: 1px solid rgba(128, 138, 189, 0.2);
    border-radius: 8px;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.15s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15),
                inset 0 1px 2px rgba(255, 255, 255, 0.06);
    position: relative;
  }

  /* Light glow when View: POS is active (default) */
  body[data-page="rosters"] .view-dropdown-toggle:has(.fa-users) {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), 
     inset 0 1px 2px rgba(255, 255, 255, 0.06),    
     0 0 8px rgba(66, 194, 255, 0.25), 
     inset 0 0 18px 9px rgba(66, 194, 255, 0.065);
    border-color: rgba(66, 194, 255, 0.3);
  }

  /* Different colored glow when View: Lineup is active */
  body[data-page="rosters"] .view-dropdown-toggle:has(.fa-list-ol) {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), 
     inset 0 1px 2px rgba(255, 255, 255, 0.06),    
     0 0 8px rgba(118, 109, 255, 0.25), 
     inset 0 0 18px 9px rgba(118, 109, 255, 0.065);
    border-color: rgba(118, 109, 255, 0.3);
  }

  body[data-page="rosters"] .view-dropdown-toggle i:first-child {
    font-size: 0.85rem !important;
    line-height: 1 !important;
  }

  body[data-page="rosters"] .view-dropdown-toggle .switcher-label {
    font-size: 0.45rem !important;
    font-weight: 500;
    line-height: 1 !important;
    margin-top: 0.04rem !important;
    letter-spacing: 0.01rem;
  }

  /* Prevent alignment shifts on View dropdown - NO transform or outline */
  body[data-page="rosters"] .view-dropdown-toggle:hover,
  body[data-page="rosters"] .view-dropdown-toggle:active,
  body[data-page="rosters"] .view-dropdown-toggle:focus,
  body[data-page="rosters"] .view-dropdown-toggle:focus-visible {
    transform: none !important;
    outline: none !important;
  }

  body[data-page="rosters"] .view-dropdown-arrow {
    position: absolute;
    top: 10px;
    right: 3px;
    font-size: 0.6rem !important;
    opacity: 0.7;
    text-shadow: 0 0 3px #5300ffaa, 0 0 5px #5300ff;
  }

  body[data-page="rosters"] .view-dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 0.25rem;
    min-width: 100%;
    background: rgba(18, 22, 40, 0.95);
    border: 1px solid rgba(169, 178, 227, 0.2);
    border-radius: 6px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(20px);
    z-index: 200;
    overflow: hidden;
  }

  body[data-page="rosters"] .view-dropdown-menu.hidden {
    display: none;
  }

  body[data-page="rosters"] .view-dropdown-option {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.4rem 0.5rem;
    width: 100%;
    background: transparent;
    border: 1px solid transparent;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.15s ease;
    font-size: 0.65rem;
    white-space: nowrap;
    border-radius: 4px;
  }

  body[data-page="rosters"] .view-dropdown-option i {
    font-size: 0.8rem;
  }

  body[data-page="rosters"] .view-dropdown-option.active {
    color: #afb3d4;
    background: rgba(128, 138, 189, 0.08);
    border-color: rgba(128, 138, 189, 0.2);
    box-shadow: 0 0 3px rgba(128, 138, 189, 0.15);
  }

  /* Hide old switcher on mobile */
  body[data-page="rosters"] .view-switcher {
    display: none;
  }

  /* Filters - positioned after view switcher */
  body[data-page="rosters"] .filters-container {
    order: 3;
    flex: 1 1 auto;
    min-width: 0;
    display: flex;
    align-items: stretch;
    gap: 0.32rem;
    overflow: visible;
  }

  body[data-page="rosters"] #positional-filters {
    display: flex;
    gap: 0rem;
    flex: 1 1 auto;
    min-width: 0;
    justify-content: flex-start;
    flex-wrap: nowrap;
    align-items: stretch;
  }

  body[data-page="rosters"] .filter-btn {
    padding: 0.32rem 0.35rem !important;
    font-size: 0.72rem !important;
    font-weight: 400;
    flex: 1 1 0;
    min-width: 0;
    white-space: nowrap;
    height: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1 !important;
  }

  body[data-page="rosters"] .filter-btn:not(.active):hover {
    /* Disable hover effect on inactive buttons only to prevent tap persistence */
    color: var(--color-text-secondary) !important;
    background: transparent !important;
  }

  body[data-page="rosters"] .filter-btn i {
    font-size: 0.72rem;
  }

  /* Compare controls - REDUCED: smaller padding, smaller icon */
  body[data-page="rosters"] .compare-controls {
    order: 4;
    flex: 0 0 auto;
  }

  body[data-page="rosters"] .compare-search-toggle {
    padding: 0.32rem 0.4rem;
    font-size: 0.75rem;
  }

  /* Search popover mobile positioning - span full width leaving only start/sit visible */
  body[data-page="rosters"] .compare-search-popover {
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    left: calc(0rem);
    width: auto;
    max-width: none;
    z-index: 100;
  }

  body[data-page="rosters"] .compare-search-popover:not(.hidden) {
    transform: translateY(0);
  }

  body[data-page="rosters"] .compare-controls {
    position: static;
  }

  body[data-page="rosters"] .filters-row {
    position: relative;
  }

  /* Make start/sit and view-switcher expand on wider mobile screens */
  @media (min-width: 500px) and (max-width: 819px) {
    body[data-page="rosters"] .start-sit-button-slot {
      flex: 0 1 auto;
    }

    body[data-page="rosters"] .start-sit-button {
      min-width: 4.5rem;
    }


    body[data-page="rosters"] .view-switcher {
      flex: 0 1 auto;
    }
  }
}

/* Desktop rosters - extend search popover to cover filters */
@media (min-width: 820px) {
  body[data-page="rosters"] .compare-search-popover {
    right: 0;
    left: auto;
    width: 400px;
  }
  
  /* Desktop: Hide dropdown, show old switcher */
  body[data-page="rosters"] .view-switcher-dropdown {
    display: none;
  }
  
  body[data-page="rosters"] .view-switcher {
    display: flex !important;
    min-width:85px;
    margin-left: 19px;
  }
}


